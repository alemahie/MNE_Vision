
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>src.main_model &#8212; MNE Vision 0.1.1 documentation</title>
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">MNE Vision 0.1.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">Module code</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for src.main_model</h1><div class="highlight"><pre>
<span></span><span class="ch">#!/usr/bin/env python</span>
<span class="c1"># -*- coding: utf-8 -*-</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Main model</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">getsize</span><span class="p">,</span> <span class="n">splitext</span>
<span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">copy</span><span class="p">,</span> <span class="n">deepcopy</span>

<span class="kn">from</span> <span class="nn">mne</span> <span class="kn">import</span> <span class="n">read_events</span><span class="p">,</span> <span class="n">find_events</span><span class="p">,</span> <span class="n">events_from_annotations</span>

<span class="kn">from</span> <span class="nn">PyQt5.QtCore</span> <span class="kn">import</span> <span class="n">QThreadPool</span>

<span class="kn">from</span> <span class="nn">runnables.tools_runnable</span> <span class="kn">import</span> <span class="n">filterRunnable</span><span class="p">,</span> <span class="n">icaRunnable</span><span class="p">,</span> <span class="n">sourceEstimationRunnable</span><span class="p">,</span> <span class="n">resamplingRunnable</span><span class="p">,</span> \
    <span class="n">reReferencingRunnable</span><span class="p">,</span> <span class="n">extractEpochsRunnable</span><span class="p">,</span> <span class="n">signalToNoiseRatioRunnable</span>
<span class="kn">from</span> <span class="nn">runnables.files_runnable</span> <span class="kn">import</span> <span class="n">openCntFileRunnable</span><span class="p">,</span> <span class="n">openSetFileRunnable</span><span class="p">,</span> <span class="n">openFifFileRunnable</span><span class="p">,</span> \
    <span class="n">findEventsFromChannelRunnable</span><span class="p">,</span> <span class="n">loadDataInfoRunnable</span><span class="p">,</span> <span class="n">exportDataCSVRunnable</span><span class="p">,</span> <span class="n">exportDataSETRunnable</span><span class="p">,</span> \
    <span class="n">exportEventsTXTRunnable</span>
<span class="kn">from</span> <span class="nn">runnables.plots_runnable</span> <span class="kn">import</span> <span class="n">timeFrequencyRunnable</span>
<span class="kn">from</span> <span class="nn">runnables.connectivity_runnable</span> <span class="kn">import</span> <span class="n">envelopeCorrelationRunnable</span><span class="p">,</span> <span class="n">sourceSpaceConnectivityRunnable</span><span class="p">,</span> \
    <span class="n">sensorSpaceConnectivityRunnable</span>
<span class="kn">from</span> <span class="nn">runnables.classification_runnable</span> <span class="kn">import</span> <span class="n">classifyRunnable</span>
<span class="kn">from</span> <span class="nn">runnables.statistics_runnable</span> <span class="kn">import</span> <span class="n">statisticsSnrRunnable</span><span class="p">,</span> <span class="n">statisticsErspItcRunnable</span><span class="p">,</span> \
    <span class="n">statisticsConnectivityRunnable</span>

<span class="kn">from</span> <span class="nn">exceptions.exceptions</span> <span class="kn">import</span> <span class="n">EventFileError</span>

<span class="kn">from</span> <span class="nn">utils.file_path_search</span> <span class="kn">import</span> <span class="n">get_directory_path_from_file_path</span>
<span class="kn">from</span> <span class="nn">utils.view.error_window</span> <span class="kn">import</span> <span class="n">errorWindow</span>
<span class="kn">from</span> <span class="nn">utils.model.study_model</span> <span class="kn">import</span> <span class="n">studyModel</span>

<span class="n">__author__</span> <span class="o">=</span> <span class="s2">&quot;Lemahieu Antoine&quot;</span>
<span class="n">__copyright__</span> <span class="o">=</span> <span class="s2">&quot;Copyright 2022&quot;</span>
<span class="n">__credits__</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Lemahieu Antoine&quot;</span><span class="p">]</span>
<span class="n">__license__</span> <span class="o">=</span> <span class="s2">&quot;GNU General Public License v3.0&quot;</span>
<span class="n">__maintainer__</span> <span class="o">=</span> <span class="s2">&quot;Lemahieu Antoine&quot;</span>
<span class="n">__email__</span> <span class="o">=</span> <span class="s2">&quot;Antoine.Lemahieu@ulb.be&quot;</span>
<span class="n">__status__</span> <span class="o">=</span> <span class="s2">&quot;Dev&quot;</span>


<div class="viewcode-block" id="mainModel"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel">[docs]</a><span class="k">class</span> <span class="nc">mainModel</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The main model is the main class where the computation are held.</span>
<span class="sd">        It contains the MNE &quot;Epochs&quot; or &quot;Raw&quot; object as well as additional information for the display or the computation.</span>
<span class="sd">        It is responsible for computing some simple information directly or calling the &quot;Runnables&quot;.</span>
<span class="sd">        (Runnables are separate instances that will run in parallel to the main window so that it is not stuck.)</span>
<span class="sd">        It thus manages all the Runnables that will do the required computations.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># Datasets info</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>     <span class="c1"># -1, means no dataset.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_type</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_path_name</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataset_name</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">channels_locations</span> <span class="o">=</span> <span class="p">[]</span>    <span class="c1"># {}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ica_decomposition</span> <span class="o">=</span> <span class="p">[]</span>     <span class="c1"># &quot;No&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">references</span> <span class="o">=</span> <span class="p">[]</span>            <span class="c1"># &quot;Unknown&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">read_events</span> <span class="o">=</span> <span class="p">[]</span>           <span class="c1"># None     # Events info read from file or channel, used to transform raw to epochs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">read_event_ids</span> <span class="o">=</span> <span class="p">[]</span>        <span class="c1"># None  # Event ids</span>

        <span class="c1"># Study</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">study</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">study_selected</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">study_index</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># The 3 tmp variables are used when loading a dataset, prevents the case that if a new dataset is loaded and an</span>
        <span class="c1"># error occurs, the old data won&#39;t be overwritten if there was a dataset loaded before.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_data_tmp</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_type_tmp</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_path_name_tmp</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataset_name_tmp</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># Runnables</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">open_fif_file_runnable</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">open_cnt_file_runnable</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">open_set_file_runnable</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">load_data_info_runnable</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">find_events_from_channel_runnable</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">export_data_csv_runnable</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">export_data_set_runnable</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">export_events_txt_runnable</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">filter_runnable</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resampling_runnable</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">re_referencing_runnable</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ica_data_decomposition_runnable</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extract_epochs_runnable</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">snr_runnable</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">source_estimation_runnable</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">power_spectral_density_runnable</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_frequency_runnable</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">envelope_correlation_runnable</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">source_space_connectivity_runnable</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sensor_space_connectivity_runnable</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">classify_runnable</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">statistics_snr_runnable</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statistics_ersp_itc_runnable</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statistics_connectivity_runnable</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># Others</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fig_psd</span> <span class="o">=</span> <span class="kc">None</span>     <span class="c1"># PSD figure, to plot them in the main thread to avoid matplotlib errors.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fig_topo</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">statistics_fig_psd_one</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statistics_fig_topo_one</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statistics_fig_psd_two</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statistics_fig_topo_two</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    File menu</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Open FIF File</span>
<div class="viewcode-block" id="mainModel.open_fif_file"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.open_fif_file">[docs]</a>    <span class="k">def</span> <span class="nf">open_fif_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path_to_file</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the parallel runnable for opening a FIF file.</span>
<span class="sd">        :param path_to_file: Path to the file</span>
<span class="sd">        :type path_to_file: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pool</span> <span class="o">=</span> <span class="n">QThreadPool</span><span class="o">.</span><span class="n">globalInstance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">open_fif_file_runnable</span> <span class="o">=</span> <span class="n">openFifFileRunnable</span><span class="p">(</span><span class="n">path_to_file</span><span class="p">)</span>
        <span class="n">pool</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">open_fif_file_runnable</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">open_fif_file_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">open_fif_file_computation_finished</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">open_fif_file_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">open_fif_file_computation_error</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.open_fif_file_computation_finished"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.open_fif_file_computation_finished">[docs]</a>    <span class="k">def</span> <span class="nf">open_fif_file_computation_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves the data from the runnable when the FIF file has been opened.</span>
<span class="sd">        Notifies the main controller that the reading is done.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_data_tmp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">open_fif_file_runnable</span><span class="o">.</span><span class="n">get_file_data</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_type_tmp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">open_fif_file_runnable</span><span class="o">.</span><span class="n">get_file_type</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_path_name_tmp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">open_fif_file_runnable</span><span class="o">.</span><span class="n">get_path_to_file</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">open_fif_file_computation_finished</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.open_fif_file_computation_error"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.open_fif_file_computation_error">[docs]</a>    <span class="k">def</span> <span class="nf">open_fif_file_computation_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that the computation had an error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">open_fif_file_computation_error</span><span class="p">()</span></div>

    <span class="c1"># Open CNT File</span>
<div class="viewcode-block" id="mainModel.open_cnt_file"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.open_cnt_file">[docs]</a>    <span class="k">def</span> <span class="nf">open_cnt_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path_to_file</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the parallel runnable for opening a CNT file.</span>
<span class="sd">        :param path_to_file: Path to the file</span>
<span class="sd">        :type path_to_file: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pool</span> <span class="o">=</span> <span class="n">QThreadPool</span><span class="o">.</span><span class="n">globalInstance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">open_cnt_file_runnable</span> <span class="o">=</span> <span class="n">openCntFileRunnable</span><span class="p">(</span><span class="n">path_to_file</span><span class="p">)</span>
        <span class="n">pool</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">open_cnt_file_runnable</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">open_cnt_file_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">open_cnt_file_computation_finished</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">open_cnt_file_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">open_cnt_file_computation_error</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.open_cnt_file_computation_finished"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.open_cnt_file_computation_finished">[docs]</a>    <span class="k">def</span> <span class="nf">open_cnt_file_computation_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves the data from the runnable when the CNT file has been opened.</span>
<span class="sd">        Notifies the main controller that the reading is done.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_data_tmp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">open_cnt_file_runnable</span><span class="o">.</span><span class="n">get_file_data</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_type_tmp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">open_cnt_file_runnable</span><span class="o">.</span><span class="n">get_file_type</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_path_name_tmp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">open_cnt_file_runnable</span><span class="o">.</span><span class="n">get_path_to_file</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">open_cnt_file_computation_finished</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.open_cnt_file_computation_error"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.open_cnt_file_computation_error">[docs]</a>    <span class="k">def</span> <span class="nf">open_cnt_file_computation_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that the computation had an error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">open_cnt_file_computation_error</span><span class="p">()</span></div>

    <span class="c1"># Open SET File</span>
<div class="viewcode-block" id="mainModel.open_set_file"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.open_set_file">[docs]</a>    <span class="k">def</span> <span class="nf">open_set_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path_to_file</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the parallel runnable for opening a SET file.</span>
<span class="sd">        :param path_to_file: Path to the file</span>
<span class="sd">        :type path_to_file: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pool</span> <span class="o">=</span> <span class="n">QThreadPool</span><span class="o">.</span><span class="n">globalInstance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">open_set_file_runnable</span> <span class="o">=</span> <span class="n">openSetFileRunnable</span><span class="p">(</span><span class="n">path_to_file</span><span class="p">)</span>
        <span class="n">pool</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">open_set_file_runnable</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">open_set_file_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">open_set_file_computation_finished</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">open_set_file_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">open_set_file_computation_error</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.open_set_file_computation_finished"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.open_set_file_computation_finished">[docs]</a>    <span class="k">def</span> <span class="nf">open_set_file_computation_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves the data from the runnable when the SET file has been opened.</span>
<span class="sd">        Notifies the main controller that the reading is done.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_data_tmp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">open_set_file_runnable</span><span class="o">.</span><span class="n">get_file_data</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_type_tmp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">open_set_file_runnable</span><span class="o">.</span><span class="n">get_file_type</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_path_name_tmp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">open_set_file_runnable</span><span class="o">.</span><span class="n">get_path_to_file</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">open_set_file_computation_finished</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.open_set_file_computation_error"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.open_set_file_computation_error">[docs]</a>    <span class="k">def</span> <span class="nf">open_set_file_computation_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that the computation had an error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">open_set_file_computation_error</span><span class="p">()</span></div>

    <span class="c1"># Data Info</span>
<div class="viewcode-block" id="mainModel.load_data_info"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.load_data_info">[docs]</a>    <span class="k">def</span> <span class="nf">load_data_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">montage</span><span class="p">,</span> <span class="n">channels_selected</span><span class="p">,</span> <span class="n">tmin</span><span class="p">,</span> <span class="n">tmax</span><span class="p">,</span> <span class="n">dataset_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the parallel runnable for setting the additional information for the dataset.</span>
<span class="sd">        :param montage: Montage of the headset</span>
<span class="sd">        :type montage: str</span>
<span class="sd">        :param channels_selected: Channels selected</span>
<span class="sd">        :type channels_selected: list of str</span>
<span class="sd">        :param tmin: Start time of the epoch or raw file to keep</span>
<span class="sd">        :type tmin: float</span>
<span class="sd">        :param tmax: End time of the epoch or raw file to keep</span>
<span class="sd">        :type tmax: float</span>
<span class="sd">        :param dataset_name: The name of the loaded dataset.</span>
<span class="sd">        :type dataset_name: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataset_name_tmp</span> <span class="o">=</span> <span class="n">dataset_name</span>

        <span class="n">pool</span> <span class="o">=</span> <span class="n">QThreadPool</span><span class="o">.</span><span class="n">globalInstance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">load_data_info_runnable</span> <span class="o">=</span> <span class="n">loadDataInfoRunnable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file_data_tmp</span><span class="p">,</span> <span class="n">montage</span><span class="p">,</span> <span class="n">channels_selected</span><span class="p">,</span> <span class="n">tmin</span><span class="p">,</span> <span class="n">tmax</span><span class="p">)</span>
        <span class="n">pool</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">load_data_info_runnable</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">load_data_info_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">load_data_info_computation_finished</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.load_data_info_computation_finished"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.load_data_info_computation_finished">[docs]</a>    <span class="k">def</span> <span class="nf">load_data_info_computation_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves the data from the runnable when the last information have been updated.</span>
<span class="sd">        Notifies the main controller that the reading is done.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">load_data_info_runnable</span><span class="o">.</span><span class="n">get_file_data</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_type</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file_type_tmp</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_path_name</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file_path_name_tmp</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataset_name</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dataset_name_tmp</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">channels_locations</span><span class="o">.</span><span class="n">append</span><span class="p">({})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ica_decomposition</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;No&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">references</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;Unknown&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">read_events</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>     <span class="c1"># Events info read from file or channel, used to transform raw to epochs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">read_event_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">reset_tmp_attributes</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">create_channels_locations</span><span class="p">()</span>
        <span class="n">file_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_type</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">file_type</span> <span class="o">==</span> <span class="s2">&quot;Raw&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">try_finding_events</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">load_data_info_computation_finished</span><span class="p">()</span></div>

    <span class="c1"># Events</span>
<div class="viewcode-block" id="mainModel.read_events_file"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.read_events_file">[docs]</a>    <span class="k">def</span> <span class="nf">read_events_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path_to_file</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Read an events file provided.</span>
<span class="sd">        This events file must be a FIF or a TXT file.</span>
<span class="sd">        The FIF files are provided when exporting an event file from MNE or MNE_Vision</span>
<span class="sd">        The TXT files are file where each line is of the form &quot;</span>
<span class="sd">        :param path_to_file: Path to the file</span>
<span class="sd">        :type path_to_file: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">extension</span> <span class="o">=</span> <span class="n">path_to_file</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]</span>
            <span class="k">if</span> <span class="n">extension</span> <span class="o">==</span> <span class="s2">&quot;txt&quot;</span> <span class="ow">or</span> <span class="n">extension</span> <span class="o">==</span> <span class="s2">&quot;fif&quot;</span><span class="p">:</span>
                <span class="n">events</span> <span class="o">=</span> <span class="n">read_events</span><span class="p">(</span><span class="n">path_to_file</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">read_events</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">events</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">EventFileError</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">EventFileError</span><span class="p">:</span>
            <span class="n">error_message</span> <span class="o">=</span> <span class="s2">&quot;The event file extension must be &#39;.txt&#39; or &#39;.fif&#39;.&quot;</span>
            <span class="n">error_window</span> <span class="o">=</span> <span class="n">errorWindow</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
            <span class="n">error_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">error_message</span> <span class="o">=</span> <span class="s2">&quot;Could not read the file, please check your event file.&quot;</span>
            <span class="n">detailed_message</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
            <span class="n">error_window</span> <span class="o">=</span> <span class="n">errorWindow</span><span class="p">(</span><span class="n">error_message</span><span class="p">,</span> <span class="n">detailed_message</span><span class="p">)</span>
            <span class="n">error_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.find_events_from_channel"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.find_events_from_channel">[docs]</a>    <span class="k">def</span> <span class="nf">find_events_from_channel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stim_channel</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the parallel runnable for finding the events from a stimulation channel.</span>
<span class="sd">        :param stim_channel: Channel containing the stimulation/the events</span>
<span class="sd">        :type stim_channel: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>

        <span class="n">pool</span> <span class="o">=</span> <span class="n">QThreadPool</span><span class="o">.</span><span class="n">globalInstance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">find_events_from_channel_runnable</span> <span class="o">=</span> <span class="n">findEventsFromChannelRunnable</span><span class="p">(</span><span class="n">file_data</span><span class="p">,</span> <span class="n">stim_channel</span><span class="p">)</span>
        <span class="n">pool</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">find_events_from_channel_runnable</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">find_events_from_channel_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">find_events_from_channel_computation_finished</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">find_events_from_channel_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">find_events_from_channel_computation_error</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.find_events_from_channel_computation_finished"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.find_events_from_channel_computation_finished">[docs]</a>    <span class="k">def</span> <span class="nf">find_events_from_channel_computation_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves the data from the runnable when the events are found from the provided channel.</span>
<span class="sd">        Notifies the main controller that the computation is done.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">read_events</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_events_from_channel_runnable</span><span class="o">.</span><span class="n">get_read_events</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">read_event_ids</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_events_from_channel_runnable</span><span class="o">.</span><span class="n">get_read_event_ids</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_events</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">read_events</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">error_message</span> <span class="o">=</span> <span class="s2">&quot;It seems that the number of events found is 0, please check the channel used or use &quot;</span> \
                                <span class="s2">&quot;another method.&quot;</span>
                <span class="n">error_window</span> <span class="o">=</span> <span class="n">errorWindow</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span>
                <span class="n">error_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">find_events_from_channel_computation_finished</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.find_events_from_channel_computation_error"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.find_events_from_channel_computation_error">[docs]</a>    <span class="k">def</span> <span class="nf">find_events_from_channel_computation_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that the computation had an error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">find_events_from_channel_computation_error</span><span class="p">()</span></div>

    <span class="c1"># Export CSV</span>
<div class="viewcode-block" id="mainModel.export_data_to_csv_file_clicked"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.export_data_to_csv_file_clicked">[docs]</a>    <span class="k">def</span> <span class="nf">export_data_to_csv_file_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path_to_file</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if the path to the file is correct.</span>
<span class="sd">        Export the data to a CSV file.</span>
<span class="sd">        :param path_to_file: Path to the file.</span>
<span class="sd">        :type path_to_file: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>

        <span class="n">pool</span> <span class="o">=</span> <span class="n">QThreadPool</span><span class="o">.</span><span class="n">globalInstance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">export_data_csv_runnable</span> <span class="o">=</span> <span class="n">exportDataCSVRunnable</span><span class="p">(</span><span class="n">file_data</span><span class="p">,</span> <span class="n">path_to_file</span><span class="p">)</span>
        <span class="n">pool</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">export_data_csv_runnable</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">export_data_csv_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">export_data_csv_computation_finished</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">export_data_csv_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">export_data_csv_computation_error</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.export_data_csv_computation_finished"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.export_data_csv_computation_finished">[docs]</a>    <span class="k">def</span> <span class="nf">export_data_csv_computation_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves the data from the runnable when the data are exported into a CSV file.</span>
<span class="sd">        Notifies the main controller that the computation is done.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">export_data_csv_computation_finished</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.export_data_csv_computation_error"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.export_data_csv_computation_error">[docs]</a>    <span class="k">def</span> <span class="nf">export_data_csv_computation_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that the computation had an error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">export_data_csv_computation_error</span><span class="p">()</span></div>

    <span class="c1"># Export SET</span>
<div class="viewcode-block" id="mainModel.export_data_to_set_file_clicked"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.export_data_to_set_file_clicked">[docs]</a>    <span class="k">def</span> <span class="nf">export_data_to_set_file_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path_to_file</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if the path to the file is correct.</span>
<span class="sd">        Export the data to a SET file.</span>
<span class="sd">        :param path_to_file: Path to the file.</span>
<span class="sd">        :type path_to_file: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>

        <span class="n">pool</span> <span class="o">=</span> <span class="n">QThreadPool</span><span class="o">.</span><span class="n">globalInstance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">export_data_set_runnable</span> <span class="o">=</span> <span class="n">exportDataSETRunnable</span><span class="p">(</span><span class="n">file_data</span><span class="p">,</span> <span class="n">path_to_file</span><span class="p">)</span>
        <span class="n">pool</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">export_data_set_runnable</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">export_data_set_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">export_data_set_computation_finished</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">export_data_set_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">export_data_set_computation_error</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.export_data_set_computation_finished"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.export_data_set_computation_finished">[docs]</a>    <span class="k">def</span> <span class="nf">export_data_set_computation_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves the data from the runnable when the data are exported into a SET file.</span>
<span class="sd">        Notifies the main controller that the computation is done.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">export_data_set_computation_finished</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.export_data_set_computation_error"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.export_data_set_computation_error">[docs]</a>    <span class="k">def</span> <span class="nf">export_data_set_computation_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that the computation had an error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">export_data_set_computation_error</span><span class="p">()</span></div>

    <span class="c1"># Export events</span>
<div class="viewcode-block" id="mainModel.export_events_to_file_clicked"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.export_events_to_file_clicked">[docs]</a>    <span class="k">def</span> <span class="nf">export_events_to_file_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path_to_file</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if the path to the file is correct.</span>
<span class="sd">        Export the events to a TXT file.</span>
<span class="sd">        :param path_to_file: Path to the file.</span>
<span class="sd">        :type path_to_file: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>

        <span class="n">pool</span> <span class="o">=</span> <span class="n">QThreadPool</span><span class="o">.</span><span class="n">globalInstance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">export_events_txt_runnable</span> <span class="o">=</span> <span class="n">exportEventsTXTRunnable</span><span class="p">(</span><span class="n">file_data</span><span class="p">,</span> <span class="n">path_to_file</span><span class="p">)</span>
        <span class="n">pool</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">export_events_txt_runnable</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">export_events_txt_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">export_events_txt_computation_finished</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">export_events_txt_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">export_events_txt_computation_error</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.export_events_txt_computation_finished"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.export_events_txt_computation_finished">[docs]</a>    <span class="k">def</span> <span class="nf">export_events_txt_computation_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves the data from the runnable when the events are exported into a TXT file.</span>
<span class="sd">        Notifies the main controller that the computation is done.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">export_events_txt_computation_finished</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.export_events_txt_computation_error"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.export_events_txt_computation_error">[docs]</a>    <span class="k">def</span> <span class="nf">export_events_txt_computation_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that the computation had an error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">export_events_txt_computation_error</span><span class="p">()</span></div>

    <span class="c1"># Save</span>
<div class="viewcode-block" id="mainModel.save_file"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.save_file">[docs]</a>    <span class="k">def</span> <span class="nf">save_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path_to_file</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Saves the dataset into a FIF file, which is the extension of MNE.</span>
<span class="sd">        If the dataset is already a FIF file, overwrite it, otherwise create a new one.</span>
<span class="sd">        The name of the dataset will be the same as the previous one, but will have a FIF extension and will follow MNE</span>
<span class="sd">        conventions for file naming.</span>
<span class="sd">        :param path_to_file: Path to the file.</span>
<span class="sd">        :type path_to_file: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_fif_file</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">path_to_file</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">save_file_as</span><span class="p">(</span><span class="n">path_to_file</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.save_file_as"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.save_file_as">[docs]</a>    <span class="k">def</span> <span class="nf">save_file_as</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path_to_file</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Saves the dataset into a FIF file, which is the extension of MNE.</span>
<span class="sd">        The name of the dataset will be the one provided by the user, but will have a FIF extension and will follow MNE</span>
<span class="sd">        conventions for file naming.</span>
<span class="sd">        :param path_to_file: Path to the file.</span>
<span class="sd">        :type path_to_file: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_type</span> <span class="o">==</span> <span class="s2">&quot;Raw&quot;</span><span class="p">:</span>
            <span class="n">file_path_name</span> <span class="o">=</span> <span class="n">path_to_file</span> <span class="o">+</span> <span class="s2">&quot;-raw.fif&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">file_path_name</span> <span class="o">=</span> <span class="n">path_to_file</span> <span class="o">+</span> <span class="s2">&quot;-epo.fif&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_path_name</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">file_path_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">file_path_name</span><span class="p">)</span></div>

    <span class="c1"># Clear dataset</span>
<div class="viewcode-block" id="mainModel.clear_current_dataset"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.clear_current_dataset">[docs]</a>    <span class="k">def</span> <span class="nf">clear_current_dataset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clear the data of the removed dataset.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_type</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_path_name</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataset_name</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>

        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">channels_locations</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">ica_decomposition</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">references</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_events</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_event_ids</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span></div>

<div class="viewcode-block" id="mainModel.create_study"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.create_study">[docs]</a>    <span class="k">def</span> <span class="nf">create_study</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">study_name</span><span class="p">,</span> <span class="n">task_name</span><span class="p">,</span> <span class="n">dataset_names</span><span class="p">,</span> <span class="n">dataset_indexes</span><span class="p">,</span> <span class="n">subjects</span><span class="p">,</span> <span class="n">sessions</span><span class="p">,</span> <span class="n">runs</span><span class="p">,</span> <span class="n">conditions</span><span class="p">,</span> <span class="n">groups</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create the study with the given information.</span>
<span class="sd">        :param study_name: The name of the study</span>
<span class="sd">        :type study_name: str</span>
<span class="sd">        :param task_name: The name of the task linked to the study</span>
<span class="sd">        :type task_name: str</span>
<span class="sd">        :param dataset_names: The name of the datasets linked to the study</span>
<span class="sd">        :type dataset_names: list of str</span>
<span class="sd">        :param dataset_indexes: The indexes of the datasets selected to be in the study</span>
<span class="sd">        :type dataset_indexes: list of int</span>
<span class="sd">        :param subjects: The subjects assigned to each dataset in the study</span>
<span class="sd">        :type subjects: list of str</span>
<span class="sd">        :param sessions: The sessions assigned to each dataset in the study</span>
<span class="sd">        :type sessions: list of str</span>
<span class="sd">        :param runs: The runs assigned to each dataset in the study</span>
<span class="sd">        :type runs: list of str</span>
<span class="sd">        :param conditions: The conditions assigned to each dataset in the study</span>
<span class="sd">        :type conditions: list of str</span>
<span class="sd">        :param groups: The groups assigned to each dataset in the study</span>
<span class="sd">        :type groups: list of str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">study</span> <span class="o">=</span> <span class="n">studyModel</span><span class="p">(</span><span class="n">study_name</span><span class="p">,</span> <span class="n">task_name</span><span class="p">,</span> <span class="n">dataset_names</span><span class="p">,</span> <span class="n">dataset_indexes</span><span class="p">,</span> <span class="n">subjects</span><span class="p">,</span> <span class="n">sessions</span><span class="p">,</span> <span class="n">runs</span><span class="p">,</span> <span class="n">conditions</span><span class="p">,</span> <span class="n">groups</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">study</span><span class="o">.</span><span class="n">set_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">study_selected</span> <span class="o">=</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="mainModel.clear_study"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.clear_study">[docs]</a>    <span class="k">def</span> <span class="nf">clear_study</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clear the current study.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">study</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">study_selected</span> <span class="o">=</span> <span class="kc">False</span></div>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Tools menu</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Filtering</span>
<div class="viewcode-block" id="mainModel.filter"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.filter">[docs]</a>    <span class="k">def</span> <span class="nf">filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">low_frequency</span><span class="p">,</span> <span class="n">high_frequency</span><span class="p">,</span> <span class="n">channels_selected</span><span class="p">,</span> <span class="n">filter_method</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the parallel runnable for filtering the dataset.</span>
<span class="sd">        :param low_frequency: Lowest frequency from where the data will be filtered.</span>
<span class="sd">        :type low_frequency: float</span>
<span class="sd">        :param high_frequency: Highest frequency from where the data will be filtered.</span>
<span class="sd">        :type high_frequency: float</span>
<span class="sd">        :param channels_selected: Channels on which the filtering will be performed.</span>
<span class="sd">        :type channels_selected: list of str</span>
<span class="sd">        :param filter_method: Method used for the filtering, either FIR or IIR.</span>
<span class="sd">        :type filter_method: str</span>
<span class="sd">        :param index: The index of the dataset of the study.</span>
<span class="sd">        :type index: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">study_selected</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">study_index</span> <span class="o">=</span> <span class="n">index</span>
            <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>

        <span class="n">pool</span> <span class="o">=</span> <span class="n">QThreadPool</span><span class="o">.</span><span class="n">globalInstance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filter_runnable</span> <span class="o">=</span> <span class="n">filterRunnable</span><span class="p">(</span><span class="n">low_frequency</span><span class="p">,</span> <span class="n">high_frequency</span><span class="p">,</span> <span class="n">channels_selected</span><span class="p">,</span> <span class="n">file_data</span><span class="p">,</span> <span class="n">filter_method</span><span class="p">)</span>
        <span class="n">pool</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filter_runnable</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filter_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filter_computation_finished</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filter_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filter_computation_error</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.filter_computation_finished"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.filter_computation_finished">[docs]</a>    <span class="k">def</span> <span class="nf">filter_computation_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves the data from the runnable when the filtering is computed.</span>
<span class="sd">        Notifies the main controller that the computation is done.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">study_selected</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">study_index</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_runnable</span><span class="o">.</span><span class="n">get_file_data</span><span class="p">()</span>
            <span class="n">low_frequency</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_runnable</span><span class="o">.</span><span class="n">get_low_frequency</span><span class="p">()</span>
            <span class="n">high_frequency</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_runnable</span><span class="o">.</span><span class="n">get_high_frequency</span><span class="p">()</span>
            <span class="n">channels_selected</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_runnable</span><span class="o">.</span><span class="n">get_channels_selected</span><span class="p">()</span>
            <span class="n">filter_method</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_runnable</span><span class="o">.</span><span class="n">get_filter_method</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">filter_computation_finished</span><span class="p">(</span><span class="n">low_frequency</span><span class="p">,</span> <span class="n">high_frequency</span><span class="p">,</span> <span class="n">channels_selected</span><span class="p">,</span> <span class="n">filter_method</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_runnable</span><span class="o">.</span><span class="n">get_file_data</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">filter_computation_finished</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.filter_computation_error"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.filter_computation_error">[docs]</a>    <span class="k">def</span> <span class="nf">filter_computation_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that the computation had an error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">filter_computation_error</span><span class="p">()</span></div>

    <span class="c1"># Resampling</span>
<div class="viewcode-block" id="mainModel.resampling"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.resampling">[docs]</a>    <span class="k">def</span> <span class="nf">resampling</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_frequency</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the parallel runnable for performing a resampling.</span>
<span class="sd">        :param new_frequency: The new frequency at which the data will be resampled.</span>
<span class="sd">        :type new_frequency: int</span>
<span class="sd">        :param index: The index of the dataset of the study.</span>
<span class="sd">        :type index: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">study_selected</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">study_index</span> <span class="o">=</span> <span class="n">index</span>
            <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
            <span class="n">events</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_event_values</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
            <span class="n">events</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_event_values</span><span class="p">()</span>

        <span class="n">pool</span> <span class="o">=</span> <span class="n">QThreadPool</span><span class="o">.</span><span class="n">globalInstance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resampling_runnable</span> <span class="o">=</span> <span class="n">resamplingRunnable</span><span class="p">(</span><span class="n">new_frequency</span><span class="p">,</span> <span class="n">file_data</span><span class="p">,</span> <span class="n">events</span><span class="p">)</span>
        <span class="n">pool</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resampling_runnable</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resampling_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resampling_computation_finished</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resampling_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resampling_computation_error</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.resampling_computation_finished"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.resampling_computation_finished">[docs]</a>    <span class="k">def</span> <span class="nf">resampling_computation_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves the data from the runnable when the resampling is computed.</span>
<span class="sd">        Notifies the main controller that the computation is done.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">study_selected</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">study_index</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resampling_runnable</span><span class="o">.</span><span class="n">get_file_data</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_event_values</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resampling_runnable</span><span class="o">.</span><span class="n">get_events</span><span class="p">(),</span> <span class="n">index</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">study_index</span><span class="p">)</span>

            <span class="n">frequency</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resampling_runnable</span><span class="o">.</span><span class="n">get_frequency</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">resampling_computation_finished</span><span class="p">(</span><span class="n">frequency</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resampling_runnable</span><span class="o">.</span><span class="n">get_file_data</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_event_values</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resampling_runnable</span><span class="o">.</span><span class="n">get_events</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">resampling_computation_finished</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.resampling_computation_error"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.resampling_computation_error">[docs]</a>    <span class="k">def</span> <span class="nf">resampling_computation_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that the computation had an error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">resampling_computation_error</span><span class="p">()</span></div>

    <span class="c1"># Re-referencing</span>
<div class="viewcode-block" id="mainModel.re_referencing"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.re_referencing">[docs]</a>    <span class="k">def</span> <span class="nf">re_referencing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">references</span><span class="p">,</span> <span class="n">save_data</span><span class="p">,</span> <span class="n">load_data</span><span class="p">,</span> <span class="n">n_jobs</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the parallel runnable for performing a re-referencing.</span>
<span class="sd">        :param references: References from which the data will be re-referenced. Can be a single or multiple channels;</span>
<span class="sd">        Can be an average of all channels; Can be a &quot;point to infinity&quot;.</span>
<span class="sd">        :type references: list of str; str</span>
<span class="sd">        :param save_data: Boolean telling if the data computed must be saved into files.</span>
<span class="sd">        :type save_data: bool</span>
<span class="sd">        :param load_data: Boolean telling if the data used for the computation can be read from computer files.</span>
<span class="sd">        :type load_data: bool</span>
<span class="sd">        :param n_jobs: Number of parallel processes used to compute the re-referencing</span>
<span class="sd">        :type n_jobs: int</span>
<span class="sd">        :param index: The index of the dataset of the study.</span>
<span class="sd">        :type index: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">study_selected</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">study_index</span> <span class="o">=</span> <span class="n">index</span>
            <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
            <span class="n">file_path_name_without_extension</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_file_path_name_without_extension</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
            <span class="n">file_path_name_without_extension</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_file_path_name_without_extension</span><span class="p">()</span>

        <span class="n">pool</span> <span class="o">=</span> <span class="n">QThreadPool</span><span class="o">.</span><span class="n">globalInstance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">re_referencing_runnable</span> <span class="o">=</span> <span class="n">reReferencingRunnable</span><span class="p">(</span><span class="n">references</span><span class="p">,</span> <span class="n">file_data</span><span class="p">,</span> <span class="n">file_path_name_without_extension</span><span class="p">,</span>
                                                             <span class="n">save_data</span><span class="p">,</span> <span class="n">load_data</span><span class="p">,</span> <span class="n">n_jobs</span><span class="p">)</span>
        <span class="n">pool</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">re_referencing_runnable</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">re_referencing_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">re_referencing_computation_finished</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">re_referencing_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">re_referencing_computation_error</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.re_referencing_computation_finished"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.re_referencing_computation_finished">[docs]</a>    <span class="k">def</span> <span class="nf">re_referencing_computation_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves the data from the runnable when the re-referencing is computed.</span>
<span class="sd">        Notifies the main controller that the computation is done.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">study_selected</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">study_index</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">re_referencing_runnable</span><span class="o">.</span><span class="n">get_file_data</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">references</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">study_index</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">re_referencing_runnable</span><span class="o">.</span><span class="n">get_references</span><span class="p">()</span>

            <span class="n">save_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">re_referencing_runnable</span><span class="o">.</span><span class="n">get_save_data</span><span class="p">()</span>
            <span class="n">load_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">re_referencing_runnable</span><span class="o">.</span><span class="n">get_load_data</span><span class="p">()</span>
            <span class="n">n_jobs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">re_referencing_runnable</span><span class="o">.</span><span class="n">get_n_jobs</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">re_referencing_computation_finished</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">references</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">study_index</span><span class="p">],</span> <span class="n">save_data</span><span class="p">,</span> <span class="n">load_data</span><span class="p">,</span>
                                                                   <span class="n">n_jobs</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">re_referencing_runnable</span><span class="o">.</span><span class="n">get_file_data</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">references</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">re_referencing_runnable</span><span class="o">.</span><span class="n">get_references</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">re_referencing_computation_finished</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.re_referencing_computation_error"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.re_referencing_computation_error">[docs]</a>    <span class="k">def</span> <span class="nf">re_referencing_computation_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that the computation had an error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">re_referencing_computation_error</span><span class="p">()</span></div>

    <span class="c1"># ICA decomposition</span>
<div class="viewcode-block" id="mainModel.ica_data_decomposition"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.ica_data_decomposition">[docs]</a>    <span class="k">def</span> <span class="nf">ica_data_decomposition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ica_method</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the parallel runnable for performing the ICA decomposition of the dataset.</span>
<span class="sd">        :param ica_method: Method used for performing the ICA decomposition</span>
<span class="sd">        :type ica_method: str</span>
<span class="sd">        :param index: The index of the dataset of the study.</span>
<span class="sd">        :type index: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">study_selected</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">study_index</span> <span class="o">=</span> <span class="n">index</span>
            <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>

        <span class="n">pool</span> <span class="o">=</span> <span class="n">QThreadPool</span><span class="o">.</span><span class="n">globalInstance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ica_data_decomposition_runnable</span> <span class="o">=</span> <span class="n">icaRunnable</span><span class="p">(</span><span class="n">ica_method</span><span class="p">,</span> <span class="n">file_data</span><span class="p">)</span>
        <span class="n">pool</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ica_data_decomposition_runnable</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ica_data_decomposition_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ica_data_decomposition_computation_finished</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ica_data_decomposition_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ica_data_decomposition_computation_error</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.ica_data_decomposition_computation_finished"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.ica_data_decomposition_computation_finished">[docs]</a>    <span class="k">def</span> <span class="nf">ica_data_decomposition_computation_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves the data from the runnable when the ICA decomposition is computed.</span>
<span class="sd">        Notifies the main controller that the computation is done.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">study_selected</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">study_index</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ica_data_decomposition_runnable</span><span class="o">.</span><span class="n">get_file_data</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ica_decomposition</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">study_index</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Yes&quot;</span>

            <span class="n">ica_method</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ica_data_decomposition_runnable</span><span class="o">.</span><span class="n">get_ica_method</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">ica_data_decomposition_computation_finished</span><span class="p">(</span><span class="n">ica_method</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ica_data_decomposition_runnable</span><span class="o">.</span><span class="n">get_file_data</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ica_decomposition</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Yes&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">ica_data_decomposition_computation_finished</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.ica_data_decomposition_computation_error"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.ica_data_decomposition_computation_error">[docs]</a>    <span class="k">def</span> <span class="nf">ica_data_decomposition_computation_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that the computation had an error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">ica_data_decomposition_computation_error</span><span class="p">()</span></div>

    <span class="c1"># Extract Epochs</span>
<div class="viewcode-block" id="mainModel.extract_epochs"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.extract_epochs">[docs]</a>    <span class="k">def</span> <span class="nf">extract_epochs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tmin</span><span class="p">,</span> <span class="n">tmax</span><span class="p">,</span> <span class="n">trials_selected</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the parallel runnable for extracting the epochs of a dataset based on the events provided/or found beforehand.</span>
<span class="sd">        :param tmin: Start time of the epoch to keep</span>
<span class="sd">        :type tmin: float</span>
<span class="sd">        :param tmax: End time of the epoch to keep</span>
<span class="sd">        :type tmax: float</span>
<span class="sd">        :param trials_selected: The indexes of the trials selected for the computation</span>
<span class="sd">        :type trials_selected: list of int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="n">read_events</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_events</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="n">read_event_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_event_ids</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>

        <span class="n">pool</span> <span class="o">=</span> <span class="n">QThreadPool</span><span class="o">.</span><span class="n">globalInstance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extract_epochs_runnable</span> <span class="o">=</span> <span class="n">extractEpochsRunnable</span><span class="p">(</span><span class="n">file_data</span><span class="p">,</span> <span class="n">read_events</span><span class="p">,</span> <span class="n">read_event_ids</span><span class="p">,</span> <span class="n">tmin</span><span class="p">,</span> <span class="n">tmax</span><span class="p">,</span>
                                                             <span class="n">trials_selected</span><span class="p">)</span>
        <span class="n">pool</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extract_epochs_runnable</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extract_epochs_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extract_epochs_computation_finished</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extract_epochs_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extract_epochs_computation_error</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.extract_epochs_computation_finished"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.extract_epochs_computation_finished">[docs]</a>    <span class="k">def</span> <span class="nf">extract_epochs_computation_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves the data from the runnable when the epochs are extracted from the available events.</span>
<span class="sd">        Notifies the main controller that the computation is done.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_type</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Epochs&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extract_epochs_runnable</span><span class="o">.</span><span class="n">get_file_data</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">extract_epochs_computation_finished</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.extract_epochs_computation_error"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.extract_epochs_computation_error">[docs]</a>    <span class="k">def</span> <span class="nf">extract_epochs_computation_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that the computation had an error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">extract_epochs_computation_error</span><span class="p">()</span></div>

    <span class="c1"># SNR</span>
<div class="viewcode-block" id="mainModel.signal_to_noise_ratio"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.signal_to_noise_ratio">[docs]</a>    <span class="k">def</span> <span class="nf">signal_to_noise_ratio</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">snr_methods</span><span class="p">,</span> <span class="n">source_method</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">write</span><span class="p">,</span> <span class="n">picks</span><span class="p">,</span> <span class="n">trials_selected</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the parallel runnable for computation of the SNR of a dataset.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="n">file_path_name_without_extension</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_file_path_name_without_extension</span><span class="p">()</span>

        <span class="n">pool</span> <span class="o">=</span> <span class="n">QThreadPool</span><span class="o">.</span><span class="n">globalInstance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">snr_runnable</span> <span class="o">=</span> <span class="n">signalToNoiseRatioRunnable</span><span class="p">(</span><span class="n">file_data</span><span class="p">,</span> <span class="n">snr_methods</span><span class="p">,</span> <span class="n">source_method</span><span class="p">,</span> <span class="n">file_path_name_without_extension</span><span class="p">,</span>
                                                       <span class="n">read</span><span class="p">,</span> <span class="n">write</span><span class="p">,</span> <span class="n">picks</span><span class="p">,</span> <span class="n">trials_selected</span><span class="p">)</span>
        <span class="n">pool</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">snr_runnable</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">snr_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">snr_computation_finished</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">snr_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">snr_computation_error</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.snr_computation_finished"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.snr_computation_finished">[docs]</a>    <span class="k">def</span> <span class="nf">snr_computation_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves the data from the runnable when the SNR is computed.</span>
<span class="sd">        Notifies the main controller that the computation is done.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">snr_computation_finished</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.snr_computation_error"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.snr_computation_error">[docs]</a>    <span class="k">def</span> <span class="nf">snr_computation_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that the computation had an error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">snr_computation_error</span><span class="p">()</span></div>

    <span class="c1"># Source Estimation</span>
<div class="viewcode-block" id="mainModel.source_estimation"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.source_estimation">[docs]</a>    <span class="k">def</span> <span class="nf">source_estimation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source_estimation_method</span><span class="p">,</span> <span class="n">save_data</span><span class="p">,</span> <span class="n">load_data</span><span class="p">,</span> <span class="n">epochs_method</span><span class="p">,</span> <span class="n">trials_selected</span><span class="p">,</span> <span class="n">tmin</span><span class="p">,</span> <span class="n">tmax</span><span class="p">,</span>
                          <span class="n">n_jobs</span><span class="p">,</span> <span class="n">export_path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the parallel runnable for computing the source estimation of the data.</span>
<span class="sd">        :param source_estimation_method: The method used to compute the source estimation</span>
<span class="sd">        :type source_estimation_method: str</span>
<span class="sd">        :param save_data: Boolean telling if the data computed must be saved into files.</span>
<span class="sd">        :type save_data: bool</span>
<span class="sd">        :param load_data: Boolean telling if the data used for the computation can be read from computer files.</span>
<span class="sd">        :type load_data: bool</span>
<span class="sd">        :param epochs_method: On what data the source estimation will be computed. Can be three values :</span>
<span class="sd">        - &quot;single trial&quot; : Compute the source estimation on a single trial that is precised.</span>
<span class="sd">        - &quot;evoked&quot; : Compute the source estimation on the average of all the signals.</span>
<span class="sd">        - &quot;averaged&quot; : Compute the source estimation on every trial, and then compute the average of them.</span>
<span class="sd">        :type: str</span>
<span class="sd">        :param trials_selected: The indexes of the trials selected for the computation</span>
<span class="sd">        :type trials_selected: list of int</span>
<span class="sd">        :param tmin: Start time of the epoch or raw file</span>
<span class="sd">        :type tmin: float</span>
<span class="sd">        :param tmax: End time of the epoch or raw file</span>
<span class="sd">        :type tmax: float</span>
<span class="sd">        :param n_jobs: Number of processes used to compute the source estimation</span>
<span class="sd">        :type n_jobs: int</span>
<span class="sd">        :param export_path: Path where the source estimation data will be stored.</span>
<span class="sd">        :type export_path: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="n">file_path_name_without_extension</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_file_path_name_without_extension</span><span class="p">()</span>

        <span class="n">pool</span> <span class="o">=</span> <span class="n">QThreadPool</span><span class="o">.</span><span class="n">globalInstance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">source_estimation_runnable</span> <span class="o">=</span> <span class="n">sourceEstimationRunnable</span><span class="p">(</span><span class="n">source_estimation_method</span><span class="p">,</span> <span class="n">file_data</span><span class="p">,</span>
                                                                   <span class="n">file_path_name_without_extension</span><span class="p">,</span>
                                                                   <span class="n">save_data</span><span class="p">,</span> <span class="n">load_data</span><span class="p">,</span> <span class="n">epochs_method</span><span class="p">,</span> <span class="n">trials_selected</span><span class="p">,</span>
                                                                   <span class="n">tmin</span><span class="p">,</span> <span class="n">tmax</span><span class="p">,</span> <span class="n">n_jobs</span><span class="p">,</span> <span class="n">export_path</span><span class="p">)</span>
        <span class="n">pool</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">source_estimation_runnable</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">source_estimation_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">source_estimation_computation_finished</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">source_estimation_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">source_estimation_computation_error</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.source_estimation_computation_finished"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.source_estimation_computation_finished">[docs]</a>    <span class="k">def</span> <span class="nf">source_estimation_computation_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that the computation is done.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">source_estimation_computation_finished</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.source_estimation_computation_error"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.source_estimation_computation_error">[docs]</a>    <span class="k">def</span> <span class="nf">source_estimation_computation_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that the computation had an error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">source_estimation_computation_error</span><span class="p">()</span></div>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Plot menu</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># PSD</span>
<div class="viewcode-block" id="mainModel.power_spectral_density"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.power_spectral_density">[docs]</a>    <span class="k">def</span> <span class="nf">power_spectral_density</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">minimum_frequency</span><span class="p">,</span> <span class="n">maximum_frequency</span><span class="p">,</span> <span class="n">minimum_time</span><span class="p">,</span> <span class="n">maximum_time</span><span class="p">,</span> <span class="n">topo_time_points</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the parallel runnable for computing the power spectral density.</span>
<span class="sd">        :param minimum_frequency: Minimum frequency from which the power spectral density will be computed.</span>
<span class="sd">        :type minimum_frequency: float</span>
<span class="sd">        :param maximum_frequency: Maximum frequency from which the power spectral density will be computed.</span>
<span class="sd">        :type maximum_frequency: float</span>
<span class="sd">        :param minimum_time: Minimum time of the epochs from which the power spectral density will be computed.</span>
<span class="sd">        :type minimum_time: float</span>
<span class="sd">        :param maximum_time: Maximum time of the epochs from which the power spectral density will be computed.</span>
<span class="sd">        :type maximum_time: float</span>
<span class="sd">        :param topo_time_points: The time points for the topomaps.</span>
<span class="sd">        :type topo_time_points: list of float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">bandwidth</span> <span class="o">=</span> <span class="mf">1.0</span><span class="o">/</span><span class="p">(</span><span class="n">maximum_time</span><span class="o">-</span><span class="n">minimum_time</span><span class="p">)</span>     <span class="c1"># To counter bandwidth normalization</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig_psd</span> <span class="o">=</span> <span class="n">file_data</span><span class="o">.</span><span class="n">plot_psd</span><span class="p">(</span><span class="n">fmin</span><span class="o">=</span><span class="n">minimum_frequency</span><span class="p">,</span> <span class="n">fmax</span><span class="o">=</span><span class="n">maximum_frequency</span><span class="p">,</span> <span class="n">tmin</span><span class="o">=</span><span class="n">minimum_time</span><span class="p">,</span>
                                              <span class="n">tmax</span><span class="o">=</span><span class="n">maximum_time</span><span class="p">,</span> <span class="n">estimate</span><span class="o">=</span><span class="s2">&quot;power&quot;</span><span class="p">,</span> <span class="n">bandwidth</span><span class="o">=</span><span class="n">bandwidth</span><span class="p">,</span>
                                              <span class="n">average</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">bands</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">time</span> <span class="ow">in</span> <span class="n">topo_time_points</span><span class="p">:</span>
                <span class="n">bands</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">time</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">time</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; Hz&quot;</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig_topo</span> <span class="o">=</span> <span class="n">file_data</span><span class="o">.</span><span class="n">plot_psd_topomap</span><span class="p">(</span><span class="n">bands</span><span class="o">=</span><span class="n">bands</span><span class="p">,</span> <span class="n">tmin</span><span class="o">=</span><span class="n">minimum_time</span><span class="p">,</span> <span class="n">tmax</span><span class="o">=</span><span class="n">maximum_time</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">power_spectral_density_computation_finished</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">error_message</span> <span class="o">=</span> <span class="s2">&quot;An error has occurred during the computation of the PSD&quot;</span>
            <span class="n">error_window</span> <span class="o">=</span> <span class="n">errorWindow</span><span class="p">(</span><span class="n">error_message</span><span class="p">,</span> <span class="n">detailed_message</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">))</span>
            <span class="n">error_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">power_spectral_density_computation_error</span><span class="p">()</span>

        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        pool = QThreadPool.globalInstance()</span>
<span class="sd">        self.power_spectral_density_runnable = powerSpectralDensityRunnable(self.file_data, minimum_frequency, maximum_frequency,</span>
<span class="sd">                                                                            minimum_time, maximum_time, topo_time_points)</span>
<span class="sd">        pool.start(self.power_spectral_density_runnable)</span>
<span class="sd">        self.power_spectral_density_runnable.signals.finished.connect(self.power_spectral_density_computation_finished)</span>
<span class="sd">        self.power_spectral_density_runnable.signals.error.connect(self.power_spectral_density_computation_error)</span>
<span class="sd">        &quot;&quot;&quot;</span></div>

<div class="viewcode-block" id="mainModel.power_spectral_density_computation_finished"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.power_spectral_density_computation_finished">[docs]</a>    <span class="k">def</span> <span class="nf">power_spectral_density_computation_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that the computation is done.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">plot_spectra_maps_computation_finished</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.power_spectral_density_computation_error"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.power_spectral_density_computation_error">[docs]</a>    <span class="k">def</span> <span class="nf">power_spectral_density_computation_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that an error has occurred during the computation</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">plot_spectra_maps_computation_error</span><span class="p">()</span></div>

    <span class="c1"># Time frequency</span>
<div class="viewcode-block" id="mainModel.time_frequency"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.time_frequency">[docs]</a>    <span class="k">def</span> <span class="nf">time_frequency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method_tfr</span><span class="p">,</span> <span class="n">channel_selected</span><span class="p">,</span> <span class="n">min_frequency</span><span class="p">,</span> <span class="n">max_frequency</span><span class="p">,</span> <span class="n">n_cycles</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the parallel runnable for computing a time-frequency analysis of the data.</span>
<span class="sd">        :param method_tfr: Method used for computing the time-frequency analysis.</span>
<span class="sd">        :type method_tfr: str</span>
<span class="sd">        :param channel_selected: Channel on which the time-frequency analysis will be computed.</span>
<span class="sd">        :type channel_selected: str</span>
<span class="sd">        :param min_frequency: Minimum frequency from which the time-frequency analysis will be computed.</span>
<span class="sd">        :type min_frequency: float</span>
<span class="sd">        :param max_frequency: Maximum frequency from which the time-frequency analysis will be computed.</span>
<span class="sd">        :type max_frequency: float</span>
<span class="sd">        :param n_cycles: Number of cycles used by the time-frequency analysis for his computation.</span>
<span class="sd">        :type n_cycles: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>

        <span class="n">pool</span> <span class="o">=</span> <span class="n">QThreadPool</span><span class="o">.</span><span class="n">globalInstance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_frequency_runnable</span> <span class="o">=</span> <span class="n">timeFrequencyRunnable</span><span class="p">(</span><span class="n">file_data</span><span class="p">,</span> <span class="n">method_tfr</span><span class="p">,</span> <span class="n">channel_selected</span><span class="p">,</span>
                                                             <span class="n">min_frequency</span><span class="p">,</span> <span class="n">max_frequency</span><span class="p">,</span> <span class="n">n_cycles</span><span class="p">)</span>
        <span class="n">pool</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">time_frequency_runnable</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_frequency_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">time_frequency_computation_finished</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_frequency_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">time_frequency_computation_error</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.time_frequency_computation_finished"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.time_frequency_computation_finished">[docs]</a>    <span class="k">def</span> <span class="nf">time_frequency_computation_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that the computation is done.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">plot_time_frequency_computation_finished</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.time_frequency_computation_error"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.time_frequency_computation_error">[docs]</a>    <span class="k">def</span> <span class="nf">time_frequency_computation_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that the computation had an error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">plot_time_frequency_computation_error</span><span class="p">()</span></div>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Connectivity menu</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Envelope correlation</span>
<div class="viewcode-block" id="mainModel.envelope_correlation"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.envelope_correlation">[docs]</a>    <span class="k">def</span> <span class="nf">envelope_correlation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">psi</span><span class="p">,</span> <span class="n">fmin</span><span class="p">,</span> <span class="n">fmax</span><span class="p">,</span> <span class="n">connectivity_method</span><span class="p">,</span> <span class="n">n_jobs</span><span class="p">,</span> <span class="n">export_path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the parallel runnable for computing the envelope correlation between the channels of the dataset.</span>
<span class="sd">        :param psi: Check if the computation of the Phase Slope Index must be done. The PSI give an indication to the</span>
<span class="sd">        directionality of the connectivity.</span>
<span class="sd">        :type psi: bool</span>
<span class="sd">        :param fmin: Minimum frequency from which the envelope correlation will be computed.</span>
<span class="sd">        :type fmin: float</span>
<span class="sd">        :param fmax: Maximum frequency from which the envelope correlation will be computed.</span>
<span class="sd">        :type fmax: float</span>
<span class="sd">        :param connectivity_method: Method used for computing the source space connectivity.</span>
<span class="sd">        :type connectivity_method: str</span>
<span class="sd">        :param n_jobs: Number of processes used to compute the source estimation</span>
<span class="sd">        :type n_jobs: int</span>
<span class="sd">        :param export_path: Path where the envelope correlation data will be stored.</span>
<span class="sd">        :type export_path: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>

        <span class="n">pool</span> <span class="o">=</span> <span class="n">QThreadPool</span><span class="o">.</span><span class="n">globalInstance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">envelope_correlation_runnable</span> <span class="o">=</span> <span class="n">envelopeCorrelationRunnable</span><span class="p">(</span><span class="n">file_data</span><span class="p">,</span> <span class="n">psi</span><span class="p">,</span> <span class="n">fmin</span><span class="p">,</span> <span class="n">fmax</span><span class="p">,</span> <span class="n">connectivity_method</span><span class="p">,</span>
                                                                         <span class="n">n_jobs</span><span class="p">,</span> <span class="n">export_path</span><span class="p">)</span>
        <span class="n">pool</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">envelope_correlation_runnable</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">envelope_correlation_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">envelope_correlation_computation_finished</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">envelope_correlation_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">envelope_correlation_computation_error</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.envelope_correlation_computation_finished"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.envelope_correlation_computation_finished">[docs]</a>    <span class="k">def</span> <span class="nf">envelope_correlation_computation_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that the computation of the envelope correlation is done.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">envelope_correlation_computation_finished</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.envelope_correlation_computation_error"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.envelope_correlation_computation_error">[docs]</a>    <span class="k">def</span> <span class="nf">envelope_correlation_computation_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that an error has occurred during the computation</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">envelope_correlation_computation_error</span><span class="p">()</span></div>

    <span class="c1"># Source space connectivity</span>
<div class="viewcode-block" id="mainModel.source_space_connectivity"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.source_space_connectivity">[docs]</a>    <span class="k">def</span> <span class="nf">source_space_connectivity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">connectivity_method</span><span class="p">,</span> <span class="n">spectrum_estimation_method</span><span class="p">,</span> <span class="n">source_estimation_method</span><span class="p">,</span> <span class="n">save_data</span><span class="p">,</span>
                                  <span class="n">load_data</span><span class="p">,</span> <span class="n">n_jobs</span><span class="p">,</span> <span class="n">export_path</span><span class="p">,</span> <span class="n">psi</span><span class="p">,</span> <span class="n">fmin</span><span class="p">,</span> <span class="n">fmax</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the parallel runnable for computing the connectivity inside the source space of the dataset.</span>
<span class="sd">        :param connectivity_method: Method used for computing the source space connectivity.</span>
<span class="sd">        :type connectivity_method: str</span>
<span class="sd">        :param spectrum_estimation_method: Method used for computing the spectrum estimation used inside the computation</span>
<span class="sd">        of the source space connectivity.</span>
<span class="sd">        :type spectrum_estimation_method: str</span>
<span class="sd">        :param source_estimation_method: Method used for computing the source estimation used inside the computation of</span>
<span class="sd">        the source space connectivity.</span>
<span class="sd">        :type source_estimation_method: str</span>
<span class="sd">        :param save_data: Boolean telling if the data computed must be saved into files.</span>
<span class="sd">        :type save_data: bool</span>
<span class="sd">        :param load_data: Boolean telling if the data used for the computation can be read from computer files.</span>
<span class="sd">        :type load_data: bool</span>
<span class="sd">        :param n_jobs: Number of processes used to computed the source estimation</span>
<span class="sd">        :type n_jobs: int</span>
<span class="sd">        :param export_path: Path where the source space connectivity data will be stored.</span>
<span class="sd">        :type export_path: str</span>
<span class="sd">        :param psi: Check if the computation of the Phase Slope Index must be done. The PSI give an indication to the</span>
<span class="sd">        directionality of the connectivity.</span>
<span class="sd">        :type psi: bool</span>
<span class="sd">        :param fmin: Minimum frequency from which the envelope correlation will be computed.</span>
<span class="sd">        :type fmin: float</span>
<span class="sd">        :param fmax: Maximum frequency from which the envelope correlation will be computed.</span>
<span class="sd">        :type fmax: float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="n">file_path_name_without_extension</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_file_path_name_without_extension</span><span class="p">()</span>

        <span class="n">pool</span> <span class="o">=</span> <span class="n">QThreadPool</span><span class="o">.</span><span class="n">globalInstance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">source_space_connectivity_runnable</span> <span class="o">=</span> <span class="n">sourceSpaceConnectivityRunnable</span><span class="p">(</span><span class="n">file_data</span><span class="p">,</span> <span class="n">file_path_name_without_extension</span><span class="p">,</span>
                                                                                  <span class="n">connectivity_method</span><span class="p">,</span> <span class="n">spectrum_estimation_method</span><span class="p">,</span>
                                                                                  <span class="n">source_estimation_method</span><span class="p">,</span> <span class="n">save_data</span><span class="p">,</span> <span class="n">load_data</span><span class="p">,</span>
                                                                                  <span class="n">n_jobs</span><span class="p">,</span> <span class="n">export_path</span><span class="p">,</span> <span class="n">psi</span><span class="p">,</span> <span class="n">fmin</span><span class="p">,</span> <span class="n">fmax</span><span class="p">)</span>
        <span class="n">pool</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">source_space_connectivity_runnable</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">source_space_connectivity_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">source_space_connectivity_computation_finished</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">source_space_connectivity_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">source_space_connectivity_computation_error</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.source_space_connectivity_computation_finished"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.source_space_connectivity_computation_finished">[docs]</a>    <span class="k">def</span> <span class="nf">source_space_connectivity_computation_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that the computation is done.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">source_estimation_computation_finished</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.source_space_connectivity_computation_error"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.source_space_connectivity_computation_error">[docs]</a>    <span class="k">def</span> <span class="nf">source_space_connectivity_computation_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that the computation had an error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">source_estimation_computation_error</span><span class="p">()</span></div>

    <span class="c1"># Sensor space connectivity</span>
<div class="viewcode-block" id="mainModel.sensor_space_connectivity"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.sensor_space_connectivity">[docs]</a>    <span class="k">def</span> <span class="nf">sensor_space_connectivity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">export_path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the parallel runnable for computing the connectivity of the sensor space of the dataset.</span>
<span class="sd">        :param export_path: Path where the sensor space connectivity data will be stored.</span>
<span class="sd">        :type export_path: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>

        <span class="n">pool</span> <span class="o">=</span> <span class="n">QThreadPool</span><span class="o">.</span><span class="n">globalInstance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sensor_space_connectivity_runnable</span> <span class="o">=</span> <span class="n">sensorSpaceConnectivityRunnable</span><span class="p">(</span><span class="n">file_data</span><span class="p">,</span> <span class="n">export_path</span><span class="p">)</span>
        <span class="n">pool</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sensor_space_connectivity_runnable</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sensor_space_connectivity_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sensor_space_connectivity_computation_finished</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sensor_space_connectivity_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sensor_space_connectivity_computation_error</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.sensor_space_connectivity_computation_finished"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.sensor_space_connectivity_computation_finished">[docs]</a>    <span class="k">def</span> <span class="nf">sensor_space_connectivity_computation_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that the computation is done.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">sensor_space_connectivity_computation_finished</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.sensor_space_connectivity_computation_error"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.sensor_space_connectivity_computation_error">[docs]</a>    <span class="k">def</span> <span class="nf">sensor_space_connectivity_computation_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that the computation had an error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">sensor_space_connectivity_computation_error</span><span class="p">()</span></div>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Classification menu</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="mainModel.classify"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.classify">[docs]</a>    <span class="k">def</span> <span class="nf">classify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_selected</span><span class="p">,</span> <span class="n">feature_selection</span><span class="p">,</span> <span class="n">number_of_channels_to_select</span><span class="p">,</span> <span class="n">hyper_tuning</span><span class="p">,</span> <span class="n">cross_val_number</span><span class="p">,</span>
                 <span class="n">trials_selected</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the parallel runnable for computing the classification with pipeline(s) of artificial intelligence of</span>
<span class="sd">        the dataset.</span>
<span class="sd">        :param pipeline_selected: The pipeline(s) used for the classification of the dataset.</span>
<span class="sd">        :type pipeline_selected: list of str</span>
<span class="sd">        :param feature_selection: Boolean telling if the computation of some feature selection techniques must be performed</span>
<span class="sd">        on the dataset.</span>
<span class="sd">        :type feature_selection: boolean</span>
<span class="sd">        :param number_of_channels_to_select: Number of channels to select for the feature selection.</span>
<span class="sd">        :type number_of_channels_to_select: int</span>
<span class="sd">        :param hyper_tuning: Boolean telling if the computation of the tuning of the hyper-parameters of the pipelines must</span>
<span class="sd">        be performed on the dataset.</span>
<span class="sd">        :type hyper_tuning: boolean</span>
<span class="sd">        :param cross_val_number: Number of cross-validation fold used by the pipelines on the dataset.</span>
<span class="sd">        :type cross_val_number: int</span>
<span class="sd">        :param trials_selected: The indexes of the trials selected for the computation</span>
<span class="sd">        :type trials_selected: list of int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="n">directory_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_directory_path_from_file_path</span><span class="p">()</span>

        <span class="n">pool</span> <span class="o">=</span> <span class="n">QThreadPool</span><span class="o">.</span><span class="n">globalInstance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">classify_runnable</span> <span class="o">=</span> <span class="n">classifyRunnable</span><span class="p">(</span><span class="n">file_data</span><span class="p">,</span> <span class="n">directory_path</span><span class="p">,</span> <span class="n">pipeline_selected</span><span class="p">,</span> <span class="n">feature_selection</span><span class="p">,</span>
                                                  <span class="n">number_of_channels_to_select</span><span class="p">,</span> <span class="n">hyper_tuning</span><span class="p">,</span> <span class="n">cross_val_number</span><span class="p">,</span> <span class="n">trials_selected</span><span class="p">)</span>
        <span class="n">pool</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">classify_runnable</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">classify_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">classify_computation_finished</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">classify_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">classify_computation_error</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.classify_computation_finished"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.classify_computation_finished">[docs]</a>    <span class="k">def</span> <span class="nf">classify_computation_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that the computation is done.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">classify_computation_finished</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.classify_computation_error"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.classify_computation_error">[docs]</a>    <span class="k">def</span> <span class="nf">classify_computation_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that the computation had an error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">classify_computation_error</span><span class="p">()</span></div>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Statistics Menu</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># SNR</span>
<div class="viewcode-block" id="mainModel.statistics_snr"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.statistics_snr">[docs]</a>    <span class="k">def</span> <span class="nf">statistics_snr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">snr_methods</span><span class="p">,</span> <span class="n">source_method</span><span class="p">,</span> <span class="n">read</span><span class="p">,</span> <span class="n">write</span><span class="p">,</span> <span class="n">picks</span><span class="p">,</span> <span class="n">stats_first_variable</span><span class="p">,</span> <span class="n">stats_second_variable</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the parallel runnable for computing the SNR and statistics on it.</span>
<span class="sd">        :param snr_methods: The methods used for computing the SNR</span>
<span class="sd">        :type snr_methods: list of str</span>
<span class="sd">        :param source_method: The method used for computing the source estimation</span>
<span class="sd">        :type source_method: str</span>
<span class="sd">        :param read: Boolean telling if the data used for the computation can be read from computer files.</span>
<span class="sd">        :type read: bool</span>
<span class="sd">        :param write: Boolean telling if the data computed must be saved into files.</span>
<span class="sd">        :type write: bool</span>
<span class="sd">        :param picks: The list of channels selected used for the computation</span>
<span class="sd">        :type picks: list of str</span>
<span class="sd">        :param stats_first_variable: The first independent variable on which the statistics must be computed (an event id)</span>
<span class="sd">        :type stats_first_variable: str</span>
<span class="sd">        :param stats_second_variable: The second independent variable on which the statistics must be computed (an event id)</span>
<span class="sd">        :type stats_second_variable: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="n">file_path_name_without_extension</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_file_path_name_without_extension</span><span class="p">()</span>

        <span class="n">pool</span> <span class="o">=</span> <span class="n">QThreadPool</span><span class="o">.</span><span class="n">globalInstance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statistics_snr_runnable</span> <span class="o">=</span> <span class="n">statisticsSnrRunnable</span><span class="p">(</span><span class="n">file_data</span><span class="p">,</span> <span class="n">snr_methods</span><span class="p">,</span> <span class="n">source_method</span><span class="p">,</span> <span class="n">file_path_name_without_extension</span><span class="p">,</span>
                                                             <span class="n">read</span><span class="p">,</span> <span class="n">write</span><span class="p">,</span> <span class="n">picks</span><span class="p">,</span> <span class="n">stats_first_variable</span><span class="p">,</span> <span class="n">stats_second_variable</span><span class="p">)</span>
        <span class="n">pool</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">statistics_snr_runnable</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statistics_snr_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">statistics_snr_computation_finished</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statistics_snr_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">statistics_snr_computation_error</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.statistics_snr_computation_finished"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.statistics_snr_computation_finished">[docs]</a>    <span class="k">def</span> <span class="nf">statistics_snr_computation_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves the data from the runnable when the SNR and the statistics is computed.</span>
<span class="sd">        Notifies the main controller that the computation is done.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">statistics_snr_computation_finished</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.statistics_snr_computation_error"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.statistics_snr_computation_error">[docs]</a>    <span class="k">def</span> <span class="nf">statistics_snr_computation_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that the computation had an error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">statistics_snr_computation_error</span><span class="p">()</span></div>

    <span class="c1"># PSD</span>
<div class="viewcode-block" id="mainModel.statistics_psd"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.statistics_psd">[docs]</a>    <span class="k">def</span> <span class="nf">statistics_psd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">minimum_frequency</span><span class="p">,</span> <span class="n">maximum_frequency</span><span class="p">,</span> <span class="n">minimum_time</span><span class="p">,</span> <span class="n">maximum_time</span><span class="p">,</span> <span class="n">topo_time_points</span><span class="p">,</span>
                       <span class="n">channel_selected</span><span class="p">,</span> <span class="n">stats_first_variable</span><span class="p">,</span> <span class="n">stats_second_variable</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the parallel runnable for computing the power spectral density.</span>
<span class="sd">        :param minimum_frequency: Minimum frequency from which the power spectral density will be computed.</span>
<span class="sd">        :type minimum_frequency: float</span>
<span class="sd">        :param maximum_frequency: Maximum frequency from which the power spectral density will be computed.</span>
<span class="sd">        :type maximum_frequency: float</span>
<span class="sd">        :param minimum_time: Minimum time of the epochs from which the power spectral density will be computed.</span>
<span class="sd">        :type minimum_time: float</span>
<span class="sd">        :param maximum_time: Maximum time of the epochs from which the power spectral density will be computed.</span>
<span class="sd">        :type maximum_time: float</span>
<span class="sd">        :param topo_time_points: The time points for the topomaps.</span>
<span class="sd">        :type topo_time_points: list of float</span>
<span class="sd">        :param channel_selected: Channel selected for the ERP.</span>
<span class="sd">        :type channel_selected: str</span>
<span class="sd">        :param stats_first_variable: The first independent variable on which the statistics must be computed (an event id)</span>
<span class="sd">        :type stats_first_variable: str</span>
<span class="sd">        :param stats_second_variable: The second independent variable on which the statistics must be computed (an event id)</span>
<span class="sd">        :type stats_second_variable: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Initialize variables</span>
            <span class="n">bandwidth</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="p">(</span><span class="n">maximum_time</span> <span class="o">-</span> <span class="n">minimum_time</span><span class="p">)</span>  <span class="c1"># To counter bandwidth normalization</span>
            <span class="n">bands</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">time</span> <span class="ow">in</span> <span class="n">topo_time_points</span><span class="p">:</span>
                <span class="n">bands</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">time</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">time</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; Hz&quot;</span><span class="p">))</span>
            <span class="c1"># First variable</span>
            <span class="n">file_data_one</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">file_data</span><span class="p">)</span>
            <span class="n">mask</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_mask_from_variable_to_keep</span><span class="p">(</span><span class="n">file_data_one</span><span class="p">,</span> <span class="n">stats_first_variable</span><span class="p">)</span>
            <span class="n">file_data_one</span> <span class="o">=</span> <span class="n">file_data_one</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">mask</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">statistics_fig_psd_one</span> <span class="o">=</span> <span class="n">file_data_one</span><span class="o">.</span><span class="n">plot_psd</span><span class="p">(</span><span class="n">fmin</span><span class="o">=</span><span class="n">minimum_frequency</span><span class="p">,</span> <span class="n">fmax</span><span class="o">=</span><span class="n">maximum_frequency</span><span class="p">,</span> <span class="n">tmin</span><span class="o">=</span><span class="n">minimum_time</span><span class="p">,</span>
                                                                 <span class="n">tmax</span><span class="o">=</span><span class="n">maximum_time</span><span class="p">,</span> <span class="n">estimate</span><span class="o">=</span><span class="s2">&quot;power&quot;</span><span class="p">,</span> <span class="n">bandwidth</span><span class="o">=</span><span class="n">bandwidth</span><span class="p">,</span>
                                                                 <span class="n">average</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">picks</span><span class="o">=</span><span class="n">channel_selected</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">statistics_fig_topo_one</span> <span class="o">=</span> <span class="n">file_data_one</span><span class="o">.</span><span class="n">plot_psd_topomap</span><span class="p">(</span><span class="n">bands</span><span class="o">=</span><span class="n">bands</span><span class="p">,</span> <span class="n">tmin</span><span class="o">=</span><span class="n">minimum_time</span><span class="p">,</span> <span class="n">tmax</span><span class="o">=</span><span class="n">maximum_time</span><span class="p">,</span>
                                                                          <span class="n">show</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="c1"># Second variable</span>
            <span class="n">file_data_two</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">file_data</span><span class="p">)</span>
            <span class="n">mask</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_mask_from_variable_to_keep</span><span class="p">(</span><span class="n">file_data_two</span><span class="p">,</span> <span class="n">stats_second_variable</span><span class="p">)</span>
            <span class="n">file_data_two</span> <span class="o">=</span> <span class="n">file_data_two</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">mask</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">statistics_fig_psd_two</span> <span class="o">=</span> <span class="n">file_data_two</span><span class="o">.</span><span class="n">plot_psd</span><span class="p">(</span><span class="n">fmin</span><span class="o">=</span><span class="n">minimum_frequency</span><span class="p">,</span> <span class="n">fmax</span><span class="o">=</span><span class="n">maximum_frequency</span><span class="p">,</span> <span class="n">tmin</span><span class="o">=</span><span class="n">minimum_time</span><span class="p">,</span>
                                                                 <span class="n">tmax</span><span class="o">=</span><span class="n">maximum_time</span><span class="p">,</span> <span class="n">estimate</span><span class="o">=</span><span class="s2">&quot;power&quot;</span><span class="p">,</span> <span class="n">bandwidth</span><span class="o">=</span><span class="n">bandwidth</span><span class="p">,</span>
                                                                 <span class="n">average</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">picks</span><span class="o">=</span><span class="n">channel_selected</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">statistics_fig_topo_two</span> <span class="o">=</span> <span class="n">file_data_two</span><span class="o">.</span><span class="n">plot_psd_topomap</span><span class="p">(</span><span class="n">bands</span><span class="o">=</span><span class="n">bands</span><span class="p">,</span> <span class="n">tmin</span><span class="o">=</span><span class="n">minimum_time</span><span class="p">,</span> <span class="n">tmax</span><span class="o">=</span><span class="n">maximum_time</span><span class="p">,</span>
                                                                          <span class="n">show</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">statistics_psd_computation_finished</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">error_message</span> <span class="o">=</span> <span class="s2">&quot;An error has occurred during the computation of the PSD&quot;</span>
            <span class="n">error_window</span> <span class="o">=</span> <span class="n">errorWindow</span><span class="p">(</span><span class="n">error_message</span><span class="p">,</span> <span class="n">detailed_message</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">))</span>
            <span class="n">error_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">statistics_psd_computation_error</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.statistics_psd_computation_finished"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.statistics_psd_computation_finished">[docs]</a>    <span class="k">def</span> <span class="nf">statistics_psd_computation_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that the computation is done.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">statistics_psd_computation_finished</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.statistics_psd_computation_error"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.statistics_psd_computation_error">[docs]</a>    <span class="k">def</span> <span class="nf">statistics_psd_computation_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that an error has occurred during the computation</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">statistics_psd_computation_error</span><span class="p">()</span></div>

    <span class="c1"># ERSP-ITC</span>
<div class="viewcode-block" id="mainModel.statistics_ersp_itc"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.statistics_ersp_itc">[docs]</a>    <span class="k">def</span> <span class="nf">statistics_ersp_itc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method_tfr</span><span class="p">,</span> <span class="n">channel_selected</span><span class="p">,</span> <span class="n">min_frequency</span><span class="p">,</span> <span class="n">max_frequency</span><span class="p">,</span> <span class="n">n_cycles</span><span class="p">,</span> <span class="n">stats_first_variable</span><span class="p">,</span>
                            <span class="n">stats_second_variable</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the parallel runnable for computing a time-frequency analysis of the data.</span>
<span class="sd">        :param method_tfr: Method used for computing the time-frequency analysis.</span>
<span class="sd">        :type method_tfr: str</span>
<span class="sd">        :param channel_selected: Channel on which the time-frequency analysis will be computed.</span>
<span class="sd">        :type channel_selected: str</span>
<span class="sd">        :param min_frequency: Minimum frequency from which the time-frequency analysis will be computed.</span>
<span class="sd">        :type min_frequency: float</span>
<span class="sd">        :param max_frequency: Maximum frequency from which the time-frequency analysis will be computed.</span>
<span class="sd">        :type max_frequency: float</span>
<span class="sd">        :param n_cycles: Number of cycles used by the time-frequency analysis for his computation.</span>
<span class="sd">        :type n_cycles: int</span>
<span class="sd">        :param stats_first_variable: The first independent variable on which the statistics must be computed (an event id)</span>
<span class="sd">        :type stats_first_variable: str</span>
<span class="sd">        :param stats_second_variable: The second independent variable on which the statistics must be computed (an event id)</span>
<span class="sd">        :type stats_second_variable: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>

        <span class="n">pool</span> <span class="o">=</span> <span class="n">QThreadPool</span><span class="o">.</span><span class="n">globalInstance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statistics_ersp_itc_runnable</span> <span class="o">=</span> <span class="n">statisticsErspItcRunnable</span><span class="p">(</span><span class="n">file_data</span><span class="p">,</span> <span class="n">method_tfr</span><span class="p">,</span> <span class="n">channel_selected</span><span class="p">,</span> <span class="n">min_frequency</span><span class="p">,</span>
                                                                      <span class="n">max_frequency</span><span class="p">,</span> <span class="n">n_cycles</span><span class="p">,</span> <span class="n">stats_first_variable</span><span class="p">,</span>
                                                                      <span class="n">stats_second_variable</span><span class="p">)</span>
        <span class="n">pool</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">statistics_ersp_itc_runnable</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statistics_ersp_itc_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">statistics_ersp_itc_computation_finished</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statistics_ersp_itc_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">statistics_ersp_itc_computation_error</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.statistics_ersp_itc_computation_finished"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.statistics_ersp_itc_computation_finished">[docs]</a>    <span class="k">def</span> <span class="nf">statistics_ersp_itc_computation_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that the computation is done.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">statistics_ersp_itc_computation_finished</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.statistics_ersp_itc_computation_error"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.statistics_ersp_itc_computation_error">[docs]</a>    <span class="k">def</span> <span class="nf">statistics_ersp_itc_computation_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that the computation had an error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">statistics_ersp_itc_computation_error</span><span class="p">()</span></div>

    <span class="c1"># Connectivity</span>
<div class="viewcode-block" id="mainModel.statistics_connectivity"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.statistics_connectivity">[docs]</a>    <span class="k">def</span> <span class="nf">statistics_connectivity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">psi</span><span class="p">,</span> <span class="n">fmin</span><span class="p">,</span> <span class="n">fmax</span><span class="p">,</span> <span class="n">connectivity_method</span><span class="p">,</span> <span class="n">n_jobs</span><span class="p">,</span> <span class="n">export_path</span><span class="p">,</span> <span class="n">stats_first_variable</span><span class="p">,</span>
                                <span class="n">stats_second_variable</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the parallel runnable for computing the envelope correlation between the channels of the dataset.</span>
<span class="sd">        :param psi: Check if the computation of the Phase Slope Index must be done. The PSI give an indication to the</span>
<span class="sd">        directionality of the connectivity.</span>
<span class="sd">        :type psi: bool</span>
<span class="sd">        :param fmin: Minimum frequency from which the envelope correlation will be computed.</span>
<span class="sd">        :type fmin: float</span>
<span class="sd">        :param fmax: Maximum frequency from which the envelope correlation will be computed.</span>
<span class="sd">        :type fmax: float</span>
<span class="sd">        :param connectivity_method: Method used for computing the source space connectivity.</span>
<span class="sd">        :type connectivity_method: str</span>
<span class="sd">        :param n_jobs: Number of processes used to compute the source estimation</span>
<span class="sd">        :type n_jobs: int</span>
<span class="sd">        :param export_path: Path where the envelope correlation data will be stored.</span>
<span class="sd">        :type export_path: str</span>
<span class="sd">        :param stats_first_variable: The first independent variable on which the statistics must be computed (an event id)</span>
<span class="sd">        :type stats_first_variable: str</span>
<span class="sd">        :param stats_second_variable: The second independent variable on which the statistics must be computed (an event id)</span>
<span class="sd">        :type stats_second_variable: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>

        <span class="n">pool</span> <span class="o">=</span> <span class="n">QThreadPool</span><span class="o">.</span><span class="n">globalInstance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statistics_connectivity_runnable</span> <span class="o">=</span> <span class="n">statisticsConnectivityRunnable</span><span class="p">(</span><span class="n">file_data</span><span class="p">,</span> <span class="n">psi</span><span class="p">,</span> <span class="n">fmin</span><span class="p">,</span> <span class="n">fmax</span><span class="p">,</span> <span class="n">connectivity_method</span><span class="p">,</span>
                                                                               <span class="n">n_jobs</span><span class="p">,</span> <span class="n">export_path</span><span class="p">,</span> <span class="n">stats_first_variable</span><span class="p">,</span>
                                                                               <span class="n">stats_second_variable</span><span class="p">)</span>
        <span class="n">pool</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">statistics_connectivity_runnable</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statistics_connectivity_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">statistics_connectivity_computation_finished</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statistics_connectivity_runnable</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">statistics_connectivity_computation_error</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.statistics_connectivity_computation_finished"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.statistics_connectivity_computation_finished">[docs]</a>    <span class="k">def</span> <span class="nf">statistics_connectivity_computation_finished</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that the computation of the envelope correlation is done.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">statistics_connectivity_computation_finished</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.statistics_connectivity_computation_error"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.statistics_connectivity_computation_error">[docs]</a>    <span class="k">def</span> <span class="nf">statistics_connectivity_computation_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the main controller that an error has occurred during the computation</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span><span class="o">.</span><span class="n">statistics_connectivity_computation_error</span><span class="p">()</span></div>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Study Menu</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="mainModel.edit_study_information"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.edit_study_information">[docs]</a>    <span class="k">def</span> <span class="nf">edit_study_information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">study_name</span><span class="p">,</span> <span class="n">task_name</span><span class="p">,</span> <span class="n">subjects</span><span class="p">,</span> <span class="n">sessions</span><span class="p">,</span> <span class="n">runs</span><span class="p">,</span> <span class="n">conditions</span><span class="p">,</span> <span class="n">groups</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Send the information to the study to be edited.</span>
<span class="sd">        :param study_name: The name of the study</span>
<span class="sd">        :type study_name: str</span>
<span class="sd">        :param task_name: The name of the task linked to the study</span>
<span class="sd">        :type task_name: str</span>
<span class="sd">        :param subjects: The subjects assigned to each dataset in the study</span>
<span class="sd">        :type subjects: list of str</span>
<span class="sd">        :param sessions: The sessions assigned to each dataset in the study</span>
<span class="sd">        :type sessions: list of str</span>
<span class="sd">        :param runs: The runs assigned to each dataset in the study</span>
<span class="sd">        :type runs: list of str</span>
<span class="sd">        :param conditions: The conditions assigned to each dataset in the study</span>
<span class="sd">        :type conditions: list of str</span>
<span class="sd">        :param groups: The groups assigned to each dataset in the study</span>
<span class="sd">        :type groups: list of str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">study</span><span class="o">.</span><span class="n">set_study_name</span><span class="p">(</span><span class="n">study_name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">study</span><span class="o">.</span><span class="n">set_task_name</span><span class="p">(</span><span class="n">task_name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">study</span><span class="o">.</span><span class="n">set_subjects</span><span class="p">(</span><span class="n">subjects</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">study</span><span class="o">.</span><span class="n">set_sessions</span><span class="p">(</span><span class="n">sessions</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">study</span><span class="o">.</span><span class="n">set_runs</span><span class="p">(</span><span class="n">runs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">study</span><span class="o">.</span><span class="n">set_conditions</span><span class="p">(</span><span class="n">conditions</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">study</span><span class="o">.</span><span class="n">set_groups</span><span class="p">(</span><span class="n">groups</span><span class="p">)</span></div>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Others</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="mainModel.is_fif_file"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.is_fif_file">[docs]</a>    <span class="k">def</span> <span class="nf">is_fif_file</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if the dataset loaded is loaded from a FIF file.</span>
<span class="sd">        :return: True if the file used is a FIF file, False otherwise.</span>
<span class="sd">        :rtype: boolean</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_path_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_path_name</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">file_path_name</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]</span> <span class="o">==</span> <span class="s2">&quot;fif&quot;</span></div>

<div class="viewcode-block" id="mainModel.create_channels_locations"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.create_channels_locations">[docs]</a>    <span class="k">def</span> <span class="nf">create_channels_locations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves the location of all channels from the MNE &quot;Epochs&quot; or &quot;Raw&quot; object for an easier use.</span>
<span class="sd">        Store the information inside the &quot;self.channels_locations&quot; attribute.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="n">channels_locations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">channels_locations</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>

        <span class="n">channels_info</span> <span class="o">=</span> <span class="n">file_data</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;chs&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">channel</span> <span class="ow">in</span> <span class="n">channels_info</span><span class="p">:</span>
            <span class="n">channels_locations</span><span class="p">[</span><span class="n">channel</span><span class="p">[</span><span class="s2">&quot;ch_name&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">channel</span><span class="p">[</span><span class="s2">&quot;loc&quot;</span><span class="p">][:</span><span class="mi">3</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">channels_locations</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">channels_locations</span></div>

<div class="viewcode-block" id="mainModel.try_finding_events"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.try_finding_events">[docs]</a>    <span class="k">def</span> <span class="nf">try_finding_events</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Try to find the events if a raw file as been loaded.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>

        <span class="n">read_ok</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">read_events</span> <span class="o">=</span> <span class="n">find_events</span><span class="p">(</span><span class="n">file_data</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">read_events</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">read_events</span>
            <span class="n">read_ok</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">read_ok</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">read_events</span><span class="p">,</span> <span class="n">read_event_ids</span> <span class="o">=</span> <span class="n">events_from_annotations</span><span class="p">(</span><span class="n">file_data</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">read_events</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">read_events</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">read_event_ids</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">read_event_ids</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></div>

<div class="viewcode-block" id="mainModel.create_mask_from_variable_to_keep"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.create_mask_from_variable_to_keep">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">create_mask_from_variable_to_keep</span><span class="p">(</span><span class="n">file_data</span><span class="p">,</span> <span class="n">stats_variable</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a mask to know which trial to keep and which one to remove for the computation.</span>
<span class="sd">        :return mask: Mask of trials to remove. True means remove, and False means keep.</span>
<span class="sd">        :rtype mask: list of boolean</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mask</span> <span class="o">=</span> <span class="p">[</span><span class="kc">True</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">file_data</span><span class="o">.</span><span class="n">events</span><span class="p">))]</span>
        <span class="n">event_ids</span> <span class="o">=</span> <span class="n">file_data</span><span class="o">.</span><span class="n">event_id</span>
        <span class="n">event_id_to_keep</span> <span class="o">=</span> <span class="n">event_ids</span><span class="p">[</span><span class="n">stats_variable</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">event</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">file_data</span><span class="o">.</span><span class="n">events</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">event</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">event_id_to_keep</span><span class="p">:</span>        <span class="c1"># 2 is the event id in the events</span>
                <span class="n">mask</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">mask</span></div>

<div class="viewcode-block" id="mainModel.reset_tmp_attributes"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.reset_tmp_attributes">[docs]</a>    <span class="k">def</span> <span class="nf">reset_tmp_attributes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Resets the temporary variable when a new dataset is completely loaded.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_data_tmp</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_type_tmp</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_path_name_tmp</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataset_name_tmp</span> <span class="o">=</span> <span class="kc">None</span></div>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Getters</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="mainModel.get_all_displayed_info"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_all_displayed_info">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_displayed_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets all the information of the dataset that will be displayed on the main window.</span>
<span class="sd">        :return: A list of all the displayed information.</span>
<span class="sd">        :rtype: list of str/float/int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">all_info</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_dataset_name</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_file_path_name</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_file_type</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_number_of_channels</span><span class="p">(),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">get_sampling_frequency</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_number_of_events</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_number_of_epochs</span><span class="p">(),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">get_epochs_start</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_epochs_end</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_number_of_frames</span><span class="p">(),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">get_reference</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_channels_locations_status</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_ica</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_dataset_size</span><span class="p">()]</span>
        <span class="k">return</span> <span class="n">all_info</span></div>

<div class="viewcode-block" id="mainModel.get_dataset_name"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_dataset_name">[docs]</a>    <span class="k">def</span> <span class="nf">get_dataset_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the dataset name of the dataset.</span>
<span class="sd">        :return: The dataset name</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dataset_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataset_name</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">dataset_name</span></div>

<div class="viewcode-block" id="mainModel.get_all_dataset_names"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_all_dataset_names">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_dataset_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the dataset name of all the datasets.</span>
<span class="sd">        :return: The dataset names</span>
<span class="sd">        :rtype: list of str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataset_name</span></div>

<div class="viewcode-block" id="mainModel.get_file_path_name"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_file_path_name">[docs]</a>    <span class="k">def</span> <span class="nf">get_file_path_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the file path of the dataset.</span>
<span class="sd">        :return: The file path of the dataset</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_path_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_path_name</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">file_path_name</span></div>

<div class="viewcode-block" id="mainModel.get_all_file_path_name"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_all_file_path_name">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_file_path_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the file path of all the datasets.</span>
<span class="sd">        :return: The file path of all the datasets</span>
<span class="sd">        :rtype: list of str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_path_name</span></div>

<div class="viewcode-block" id="mainModel.get_file_path_name_without_extension"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_file_path_name_without_extension">[docs]</a>    <span class="k">def</span> <span class="nf">get_file_path_name_without_extension</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the file path of the dataset without the extension of the file.</span>
<span class="sd">        :param index: The index of the dataset to get the event from. If None, the current dataset index will be taken.</span>
<span class="sd">        :type index: int</span>
<span class="sd">        :return: The file path of the dataset without the extension.</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">index</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span>
        <span class="n">file_path_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_path_name</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">splitext</span><span class="p">(</span><span class="n">file_path_name</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span></div>

<div class="viewcode-block" id="mainModel.get_directory_path_from_file_path"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_directory_path_from_file_path">[docs]</a>    <span class="k">def</span> <span class="nf">get_directory_path_from_file_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the directory path of the dataset.</span>
<span class="sd">        :return: The directory path of the dataset.</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_path_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_path_name</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">get_directory_path_from_file_path</span><span class="p">(</span><span class="n">file_path_name</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.get_file_type"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_file_type">[docs]</a>    <span class="k">def</span> <span class="nf">get_file_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the type of the file.</span>
<span class="sd">        :return: The type of the file.</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_type</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">file_type</span></div>

<div class="viewcode-block" id="mainModel.get_all_file_type"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_all_file_type">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_file_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the type of all the files.</span>
<span class="sd">        :return: The type of all the files.</span>
<span class="sd">        :rtype: list of str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_type</span></div>

<div class="viewcode-block" id="mainModel.get_number_of_channels"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_number_of_channels">[docs]</a>    <span class="k">def</span> <span class="nf">get_number_of_channels</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the number of channels that are present in the dataset.</span>
<span class="sd">        :return: The number of channels</span>
<span class="sd">        :rtype: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">file_data</span><span class="o">.</span><span class="n">ch_names</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.get_sampling_frequency"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_sampling_frequency">[docs]</a>    <span class="k">def</span> <span class="nf">get_sampling_frequency</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the sampling frequency of the dataset.</span>
<span class="sd">        :return: The sampling frequency.</span>
<span class="sd">        :rtype: float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">file_data</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sfreq&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.get_number_of_events"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_number_of_events">[docs]</a>    <span class="k">def</span> <span class="nf">get_number_of_events</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the number of events present in the dataset.</span>
<span class="sd">        :return: The number of events. None for &quot;Raw&quot; type of dataset.</span>
<span class="sd">        :rtype: int/None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="n">file_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_type</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="n">read_events</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_events</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">file_type</span> <span class="o">==</span> <span class="s2">&quot;Raw&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">read_events</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">read_events</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">read_events</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">file_data</span><span class="o">.</span><span class="n">events</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.get_event_values"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_event_values">[docs]</a>    <span class="k">def</span> <span class="nf">get_event_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the events&#39; information present in the dataset.</span>
<span class="sd">        :param index: The index of the dataset to get the event from. If None, the current dataset index will be taken.</span>
<span class="sd">        :type index: int</span>
<span class="sd">        :return: The events&#39; information. Each event is represented by a list of 3 elements: First the latency time of</span>
<span class="sd">        the event; Second a &quot;0&quot; for MNE backwards compatibility; Third the event id.</span>
<span class="sd">        :rtype: list of, list of int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">index</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        <span class="n">file_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_type</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        <span class="n">read_events</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_events</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">file_type</span> <span class="o">==</span> <span class="s2">&quot;Raw&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">read_events</span>
        <span class="k">elif</span> <span class="n">file_type</span> <span class="o">==</span> <span class="s2">&quot;Epochs&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">file_data</span><span class="o">.</span><span class="n">events</span></div>

<div class="viewcode-block" id="mainModel.get_event_ids"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_event_ids">[docs]</a>    <span class="k">def</span> <span class="nf">get_event_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the event ids present in the dataset.</span>
<span class="sd">        :return: The events&#39; ids</span>
<span class="sd">        :rtype: dict</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="n">file_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_type</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="n">read_event_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_event_ids</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">file_type</span> <span class="o">==</span> <span class="s2">&quot;Raw&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">read_event_ids</span>
        <span class="k">elif</span> <span class="n">file_type</span> <span class="o">==</span> <span class="s2">&quot;Epochs&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">file_data</span><span class="o">.</span><span class="n">event_id</span></div>

<div class="viewcode-block" id="mainModel.get_number_of_epochs"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_number_of_epochs">[docs]</a>    <span class="k">def</span> <span class="nf">get_number_of_epochs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the number of epochs present in the dataset.</span>
<span class="sd">        :return: The number of epochs. 1 for &quot;Raw&quot; type of dataset.</span>
<span class="sd">        :rtype: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="n">file_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_type</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">file_type</span> <span class="o">==</span> <span class="s2">&quot;Raw&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">file_data</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.get_epochs_start"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_epochs_start">[docs]</a>    <span class="k">def</span> <span class="nf">get_epochs_start</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the start time of the epochs of the dataset.</span>
<span class="sd">        :return: The start time of the epochs.</span>
<span class="sd">        :rtype: float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="k">return</span> <span class="nb">round</span><span class="p">(</span><span class="n">file_data</span><span class="o">.</span><span class="n">times</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.get_epochs_end"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_epochs_end">[docs]</a>    <span class="k">def</span> <span class="nf">get_epochs_end</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the end time of the epochs of the dataset.</span>
<span class="sd">        :return: The end time of the epochs.</span>
<span class="sd">        :rtype: float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="k">return</span> <span class="nb">round</span><span class="p">(</span><span class="n">file_data</span><span class="o">.</span><span class="n">times</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.get_number_of_frames"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_number_of_frames">[docs]</a>    <span class="k">def</span> <span class="nf">get_number_of_frames</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the number of frames of the dataset. The number of frames depend from the start and end times of the epochs</span>
<span class="sd">        and the sampling frequency.</span>
<span class="sd">        :return: The number of frames.</span>
<span class="sd">        :rtype: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">file_data</span><span class="o">.</span><span class="n">times</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.get_reference"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_reference">[docs]</a>    <span class="k">def</span> <span class="nf">get_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the references from which the dataset is based.</span>
<span class="sd">        :return: The references.</span>
<span class="sd">        :rtype: list of str/str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">references</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">references</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">references</span></div>

<div class="viewcode-block" id="mainModel.get_channels_locations_status"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_channels_locations_status">[docs]</a>    <span class="k">def</span> <span class="nf">get_channels_locations_status</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the status of the channels&#39; locations of the dataset.</span>
<span class="sd">        :return: &quot;Unknown&quot; if the channels&#39; locations dict is empty. &quot;Available&quot; otherwise.</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">channels_locations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">channels_locations</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">channels_locations</span><span class="p">:</span>     <span class="c1"># channels_locations dictionary is empty.</span>
            <span class="k">return</span> <span class="s2">&quot;Unknown&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;Available&quot;</span></div>

<div class="viewcode-block" id="mainModel.get_channels_locations"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_channels_locations">[docs]</a>    <span class="k">def</span> <span class="nf">get_channels_locations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the channels&#39; locations of the dataset.</span>
<span class="sd">        :return: The channels&#39; locations.</span>
<span class="sd">        :rtype: dict</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">channels_locations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">channels_locations</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">channels_locations</span></div>

<div class="viewcode-block" id="mainModel.get_ica"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_ica">[docs]</a>    <span class="k">def</span> <span class="nf">get_ica</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the status of the ICA decomposition of the dataset.</span>
<span class="sd">        :return: &quot;Yes&quot; if it is known by the software that the ICA decomposition has been performed. &quot;No&quot; otherwise.</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ica_decomposition</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ica_decomposition</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">ica_decomposition</span></div>

<div class="viewcode-block" id="mainModel.get_all_ica"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_all_ica">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_ica</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the status of the ICA decomposition of all the datasets.</span>
<span class="sd">        :return: &quot;Yes&quot; if it is known by the software that the ICA decomposition has been performed. &quot;No&quot; otherwise.</span>
<span class="sd">        :rtype: list of str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">ica_decomposition</span></div>

<div class="viewcode-block" id="mainModel.get_dataset_size"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_dataset_size">[docs]</a>    <span class="k">def</span> <span class="nf">get_dataset_size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the size in megabits of the dataset.</span>
<span class="sd">        :return: The size of the dataset.</span>
<span class="sd">        :rtype: float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_path_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_path_name</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">round</span><span class="p">(</span><span class="n">getsize</span><span class="p">(</span><span class="n">file_path_name</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;fdt&quot;</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1024</span> <span class="o">**</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">round</span><span class="p">(</span><span class="n">getsize</span><span class="p">(</span><span class="n">file_path_name</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1024</span> <span class="o">**</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.get_all_channels_names"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_all_channels_names">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_channels_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets all the channels&#39; names of the dataset.</span>
<span class="sd">        :return: The channels&#39; names.</span>
<span class="sd">        :rtype: list of str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">file_data</span><span class="o">.</span><span class="n">ch_names</span></div>

<div class="viewcode-block" id="mainModel.get_file_data"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_file_data">[docs]</a>    <span class="k">def</span> <span class="nf">get_file_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the MNE &quot;Epochs&quot; or &quot;Raw&quot; data of the dataset.</span>
<span class="sd">        :return: The MNE &quot;Epochs&quot; or &quot;Raw&quot; object.</span>
<span class="sd">        :rtype: Epochs/Raw</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">file_data</span></div>

<div class="viewcode-block" id="mainModel.get_all_file_data"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_all_file_data">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_file_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the MNE &quot;Epochs&quot; or &quot;Raw&quot; data of all the datasets.</span>
<span class="sd">        :return: The MNE &quot;Epochs&quot; or &quot;Raw&quot; objects.</span>
<span class="sd">        :rtype: list of Epochs/Raw</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span></div>

<div class="viewcode-block" id="mainModel.get_read_events"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_read_events">[docs]</a>    <span class="k">def</span> <span class="nf">get_read_events</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the read events obtained after the epochs&#39; importation.</span>
<span class="sd">        :return: The read events.</span>
<span class="sd">        :rtype: list of int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">read_events</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_events</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">read_events</span></div>

<div class="viewcode-block" id="mainModel.get_current_dataset_index"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_current_dataset_index">[docs]</a>    <span class="k">def</span> <span class="nf">get_current_dataset_index</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the current dataset index.</span>
<span class="sd">        :return: The current dataset index.</span>
<span class="sd">        :rtype: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span></div>

<div class="viewcode-block" id="mainModel.get_all_study_displayed_info"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_all_study_displayed_info">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_study_displayed_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets all the information of the study that will be displayed on the main window.</span>
<span class="sd">        :return: A list of all the displayed information.</span>
<span class="sd">        :rtype: list of str/float/int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">study</span><span class="o">.</span><span class="n">get_displayed_info</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.get_study"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_study">[docs]</a>    <span class="k">def</span> <span class="nf">get_study</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the study of the datasets selected.</span>
<span class="sd">        :return: The current study</span>
<span class="sd">        :rtype: studyModel</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">study</span></div>

<div class="viewcode-block" id="mainModel.get_study_selected"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_study_selected">[docs]</a>    <span class="k">def</span> <span class="nf">get_study_selected</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the state of the study</span>
<span class="sd">        :return: True if the study is selected, False otherwise.</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">study_selected</span></div>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Temporaries</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="mainModel.get_all_tmp_channels_names"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_all_tmp_channels_names">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_tmp_channels_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets all the channels&#39; names of the dataset being loaded.</span>
<span class="sd">        :return: The channels&#39; names.</span>
<span class="sd">        :rtype: list of str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data_tmp</span><span class="o">.</span><span class="n">ch_names</span></div>

<div class="viewcode-block" id="mainModel.get_tmp_epochs_start"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_tmp_epochs_start">[docs]</a>    <span class="k">def</span> <span class="nf">get_tmp_epochs_start</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the start time of the epochs of the dataset being loaded.</span>
<span class="sd">        :return: The start time of the epochs.</span>
<span class="sd">        :rtype: float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">round</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file_data_tmp</span><span class="o">.</span><span class="n">times</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.get_tmp_epochs_end"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_tmp_epochs_end">[docs]</a>    <span class="k">def</span> <span class="nf">get_tmp_epochs_end</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the end time of the epochs of the dataset being loaded.</span>
<span class="sd">        :return: The end time of the epochs.</span>
<span class="sd">        :rtype: float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">round</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file_data_tmp</span><span class="o">.</span><span class="n">times</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span></div>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Runnable getters</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="mainModel.get_SNRs"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_SNRs">[docs]</a>    <span class="k">def</span> <span class="nf">get_SNRs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the SNR values computed over the data.</span>
<span class="sd">        :return: SNR</span>
<span class="sd">        :rtype: list of, list of float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">snr_runnable</span><span class="o">.</span><span class="n">get_SNRs</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.get_SNR_methods"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_SNR_methods">[docs]</a>    <span class="k">def</span> <span class="nf">get_SNR_methods</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the SNR methods used for the computation.</span>
<span class="sd">        :return: SNR methods</span>
<span class="sd">        :rtype: list of str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">snr_runnable</span><span class="o">.</span><span class="n">get_SNR_methods</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.get_source_estimation_data"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_source_estimation_data">[docs]</a>    <span class="k">def</span> <span class="nf">get_source_estimation_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the data of the source estimation computation performed on the dataset.</span>
<span class="sd">        :return: The source estimation&#39;s data.</span>
<span class="sd">        :rtype: MNE.SourceEstimation</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">source_estimation_runnable</span><span class="o">.</span><span class="n">get_source_estimation_data</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.get_psd_fig"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_psd_fig">[docs]</a>    <span class="k">def</span> <span class="nf">get_psd_fig</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the power spectral density&#39;s figure</span>
<span class="sd">        :return: The figure of the actual power spectral density&#39;s data computed</span>
<span class="sd">        :rtype: matplotlib.Figure</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fig_topo</span></div>
        <span class="c1"># return self.power_spectral_density_runnable.get_psd_fig()</span>

<div class="viewcode-block" id="mainModel.get_psd_topo_fig"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_psd_topo_fig">[docs]</a>    <span class="k">def</span> <span class="nf">get_psd_topo_fig</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the power spectral density&#39;s figure fo the topographies</span>
<span class="sd">        :return: The figure of the topographies of the actual power spectral density&#39;s data computed</span>
<span class="sd">        :rtype: matplotlib.Figure</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fig_psd</span></div>
        <span class="c1"># return self.power_spectral_density_runnable.get_topo_fig()</span>

<div class="viewcode-block" id="mainModel.get_tfr_channel_selected"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_tfr_channel_selected">[docs]</a>    <span class="k">def</span> <span class="nf">get_tfr_channel_selected</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the channel used for the computation of the time-frequency analysis performed on the dataset.</span>
<span class="sd">        :return: The channel used for the time-frequency analysis computation.</span>
<span class="sd">        :rtype: list of str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">time_frequency_runnable</span><span class="o">.</span><span class="n">get_channel_selected</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.get_power"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_power">[docs]</a>    <span class="k">def</span> <span class="nf">get_power</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the &quot;power&quot; data of the time-frequency analysis computation performed on the dataset.</span>
<span class="sd">        :return: &quot;power&quot; data of the time-frequency analysis computation.</span>
<span class="sd">        :rtype: MNE.AverageTFR</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">time_frequency_runnable</span><span class="o">.</span><span class="n">get_power</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.get_itc"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_itc">[docs]</a>    <span class="k">def</span> <span class="nf">get_itc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the &quot;itc&quot; data of the time-frequency analysis computation performed on the dataset.</span>
<span class="sd">        :return: &quot;itc&quot; data of the time-frequency analysis computation.</span>
<span class="sd">        :rtype: MNE.AverageTFR</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">time_frequency_runnable</span><span class="o">.</span><span class="n">get_itc</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.get_envelope_correlation_data"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_envelope_correlation_data">[docs]</a>    <span class="k">def</span> <span class="nf">get_envelope_correlation_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the data of the envelope correlation computation performed on the dataset.</span>
<span class="sd">        :return: The envelope correlation&#39;s data.</span>
<span class="sd">        :rtype: list of, list of float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">envelope_correlation_runnable</span><span class="o">.</span><span class="n">get_envelope_correlation_data</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.get_psi_data_envelope_correlation"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_psi_data_envelope_correlation">[docs]</a>    <span class="k">def</span> <span class="nf">get_psi_data_envelope_correlation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the psi&#39;s data for the envelope correlation.</span>
<span class="sd">        :return: The psi&#39;s data. Or nothing if the psi&#39;s data has not been computed.</span>
<span class="sd">        :rtype: list of, list of float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">envelope_correlation_runnable</span><span class="o">.</span><span class="n">get_psi_data</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.get_source_space_connectivity_data"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_source_space_connectivity_data">[docs]</a>    <span class="k">def</span> <span class="nf">get_source_space_connectivity_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the data of the source space connectivity computation performed on the dataset.</span>
<span class="sd">        :return: The source space&#39;s data.</span>
<span class="sd">        :rtype: list of, list of float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">source_space_connectivity_runnable</span><span class="o">.</span><span class="n">get_source_space_connectivity_data</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.get_psi_data_source_space"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_psi_data_source_space">[docs]</a>    <span class="k">def</span> <span class="nf">get_psi_data_source_space</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the psi&#39;s data for the source space connectivity.</span>
<span class="sd">        :return: The psi&#39;s data. Or nothing if the psi&#39;s data has not been computed.</span>
<span class="sd">        :rtype: list of, list of float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">source_space_connectivity_runnable</span><span class="o">.</span><span class="n">get_psi_data</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.get_sensor_space_connectivity_data"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_sensor_space_connectivity_data">[docs]</a>    <span class="k">def</span> <span class="nf">get_sensor_space_connectivity_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the data of the sensor space connectivity computation performed on the dataset.</span>
<span class="sd">        :return: The sensor space&#39;s data.</span>
<span class="sd">        :rtype: list of, list of float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sensor_space_connectivity_runnable</span><span class="o">.</span><span class="n">get_sensor_space_connectivity_data</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.get_classifier"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_classifier">[docs]</a>    <span class="k">def</span> <span class="nf">get_classifier</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the classifier object obtained after the computation performed on the dataset.</span>
<span class="sd">        :return: The classifiers</span>
<span class="sd">        :rtype: ApplePyClassifier</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">classify_runnable</span><span class="o">.</span><span class="n">get_classifier</span><span class="p">()</span></div>

    <span class="c1"># Statistics SNR</span>
<div class="viewcode-block" id="mainModel.get_statistics_first_SNRs"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_statistics_first_SNRs">[docs]</a>    <span class="k">def</span> <span class="nf">get_statistics_first_SNRs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the SNRs computed over the first independent variable.</span>
<span class="sd">        :return: The SNRs computed over the first independent variable.</span>
<span class="sd">        :rtype: list of, list of float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">statistics_snr_runnable</span><span class="o">.</span><span class="n">get_first_SNRs</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.get_statistics_second_SNRs"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_statistics_second_SNRs">[docs]</a>    <span class="k">def</span> <span class="nf">get_statistics_second_SNRs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the SNRs computed over the second independent variable.</span>
<span class="sd">        :return: The SNRs computed over the second independent variable.</span>
<span class="sd">        :rtype: list of, list of float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">statistics_snr_runnable</span><span class="o">.</span><span class="n">get_second_SNRs</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.get_statistics_SNR_t_values"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_statistics_SNR_t_values">[docs]</a>    <span class="k">def</span> <span class="nf">get_statistics_SNR_t_values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the T-values computed over the SNRs of the two independent variables.</span>
<span class="sd">        :return: T-values computed over the SNRs of the two independent variables.</span>
<span class="sd">        :rtype: list of float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">statistics_snr_runnable</span><span class="o">.</span><span class="n">get_t_values</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.get_statistics_SNR_methods"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_statistics_SNR_methods">[docs]</a>    <span class="k">def</span> <span class="nf">get_statistics_SNR_methods</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the SNR methods used for the computation.</span>
<span class="sd">        :return: SNR methods</span>
<span class="sd">        :rtype: list of str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">statistics_snr_runnable</span><span class="o">.</span><span class="n">get_SNR_methods</span><span class="p">()</span></div>

    <span class="c1"># Statistics PSD</span>
<div class="viewcode-block" id="mainModel.get_statistics_psd_fig_one"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_statistics_psd_fig_one">[docs]</a>    <span class="k">def</span> <span class="nf">get_statistics_psd_fig_one</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the power spectral density&#39;s figure of the first independent variable</span>
<span class="sd">        :return: The figure of the actual power spectral density&#39;s data computed</span>
<span class="sd">        :rtype: matplotlib.Figure</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">statistics_fig_psd_one</span></div>

<div class="viewcode-block" id="mainModel.get_statistics_psd_topo_fig_one"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_statistics_psd_topo_fig_one">[docs]</a>    <span class="k">def</span> <span class="nf">get_statistics_psd_topo_fig_one</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the power spectral density&#39;s figure of the topographies of the first independent variable</span>
<span class="sd">        :return: The figure of the topographies of the actual power spectral density&#39;s data computed</span>
<span class="sd">        :rtype: matplotlib.Figure</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">statistics_fig_topo_one</span></div>

<div class="viewcode-block" id="mainModel.get_statistics_psd_fig_two"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_statistics_psd_fig_two">[docs]</a>    <span class="k">def</span> <span class="nf">get_statistics_psd_fig_two</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the power spectral density&#39;s figure of the second independent variable</span>
<span class="sd">        :return: The figure of the actual power spectral density&#39;s data computed</span>
<span class="sd">        :rtype: matplotlib.Figure</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">statistics_fig_psd_two</span></div>

<div class="viewcode-block" id="mainModel.get_statistics_psd_topo_fig_two"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_statistics_psd_topo_fig_two">[docs]</a>    <span class="k">def</span> <span class="nf">get_statistics_psd_topo_fig_two</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the power spectral density&#39;s figure of the topographies of the second independent variable</span>
<span class="sd">        :return: The figure of the topographies of the actual power spectral density&#39;s data computed</span>
<span class="sd">        :rtype: matplotlib.Figure</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">statistics_fig_topo_two</span></div>

    <span class="c1"># Statistics ERSP ITC</span>
<div class="viewcode-block" id="mainModel.get_statistics_ersp_itc_channel_selected"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_statistics_ersp_itc_channel_selected">[docs]</a>    <span class="k">def</span> <span class="nf">get_statistics_ersp_itc_channel_selected</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the channel used for the computation of the time-frequency analysis performed on the dataset.</span>
<span class="sd">        :return: The channel used for the time-frequency analysis computation.</span>
<span class="sd">        :rtype: list of str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">statistics_ersp_itc_runnable</span><span class="o">.</span><span class="n">get_channel_selected</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.get_statistics_power_one"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_statistics_power_one">[docs]</a>    <span class="k">def</span> <span class="nf">get_statistics_power_one</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the &quot;power&quot; data of the time-frequency analysis computation performed on the dataset of the first independent variable.</span>
<span class="sd">        :return: &quot;power&quot; data of the time-frequency analysis computation.</span>
<span class="sd">        :rtype: MNE.AverageTFR</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">statistics_ersp_itc_runnable</span><span class="o">.</span><span class="n">get_power_one</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.get_statistics_itc_one"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_statistics_itc_one">[docs]</a>    <span class="k">def</span> <span class="nf">get_statistics_itc_one</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the &quot;itc&quot; data of the time-frequency analysis computation performed on the dataset of the first independent variable.</span>
<span class="sd">        :return: &quot;itc&quot; data of the time-frequency analysis computation.</span>
<span class="sd">        :rtype: MNE.AverageTFR</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">statistics_ersp_itc_runnable</span><span class="o">.</span><span class="n">get_itc_one</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.get_statistics_power_two"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_statistics_power_two">[docs]</a>    <span class="k">def</span> <span class="nf">get_statistics_power_two</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the &quot;power&quot; data of the time-frequency analysis computation performed on the dataset of the second independent variable.</span>
<span class="sd">        :return: &quot;power&quot; data of the time-frequency analysis computation.</span>
<span class="sd">        :rtype: MNE.AverageTFR</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">statistics_ersp_itc_runnable</span><span class="o">.</span><span class="n">get_power_two</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.get_statistics_itc_two"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_statistics_itc_two">[docs]</a>    <span class="k">def</span> <span class="nf">get_statistics_itc_two</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the &quot;itc&quot; data of the time-frequency analysis computation performed on the dataset of the second independent variable.</span>
<span class="sd">        :return: &quot;itc&quot; data of the time-frequency analysis computation.</span>
<span class="sd">        :rtype: MNE.AverageTFR</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">statistics_ersp_itc_runnable</span><span class="o">.</span><span class="n">get_itc_two</span><span class="p">()</span></div>

    <span class="c1"># Statistics Connectivity</span>
<div class="viewcode-block" id="mainModel.get_statistics_connectivity_data_one"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_statistics_connectivity_data_one">[docs]</a>    <span class="k">def</span> <span class="nf">get_statistics_connectivity_data_one</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the data of the envelope correlation computation performed on the dataset of the first independent variable.</span>
<span class="sd">        :return: The envelope correlation&#39;s data.</span>
<span class="sd">        :rtype: list of, list of float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">statistics_connectivity_runnable</span><span class="o">.</span><span class="n">get_connectivity_data_one</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.get_statistics_connectivity_data_two"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_statistics_connectivity_data_two">[docs]</a>    <span class="k">def</span> <span class="nf">get_statistics_connectivity_data_two</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the data of the envelope correlation computation performed on the dataset of the second independent variable.</span>
<span class="sd">        :return: The envelope correlation&#39;s data.</span>
<span class="sd">        :rtype: list of, list of float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">statistics_connectivity_runnable</span><span class="o">.</span><span class="n">get_connectivity_data_two</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.get_statistics_psi_data_one"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_statistics_psi_data_one">[docs]</a>    <span class="k">def</span> <span class="nf">get_statistics_psi_data_one</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the psi&#39;s data for the envelope correlation of the first independent variable.</span>
<span class="sd">        :return: The psi&#39;s data. Or nothing if the psi&#39;s data has not been computed.</span>
<span class="sd">        :rtype: list of, list of float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">statistics_connectivity_runnable</span><span class="o">.</span><span class="n">get_psi_data_one</span><span class="p">()</span></div>

<div class="viewcode-block" id="mainModel.get_statistics_psi_data_two"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.get_statistics_psi_data_two">[docs]</a>    <span class="k">def</span> <span class="nf">get_statistics_psi_data_two</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the psi&#39;s data for the envelope correlation of the second independent variable.</span>
<span class="sd">        :return: The psi&#39;s data. Or nothing if the psi&#39;s data has not been computed.</span>
<span class="sd">        :rtype: list of, list of float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">statistics_connectivity_runnable</span><span class="o">.</span><span class="n">get_psi_data_two</span><span class="p">()</span></div>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Setters</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="mainModel.set_listener"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.set_listener">[docs]</a>    <span class="k">def</span> <span class="nf">set_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">listener</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the main listener for the class that will be used for communications and send data.</span>
<span class="sd">        :param listener: The main listener</span>
<span class="sd">        :type listener: MainController</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_listener</span> <span class="o">=</span> <span class="n">listener</span></div>

<div class="viewcode-block" id="mainModel.set_event_values"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.set_event_values">[docs]</a>    <span class="k">def</span> <span class="nf">set_event_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event_values</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the values of the events for the dataset.</span>
<span class="sd">        :param event_values: The event values</span>
<span class="sd">        :type event_values: list of, list of int</span>
<span class="sd">        :param index: The index of the dataset to set the event. If None, the current dataset index will be taken.</span>
<span class="sd">        :type index: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">index</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span>
        <span class="n">file_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_type</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">file_type</span> <span class="o">==</span> <span class="s2">&quot;Raw&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">read_events</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">event_values</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">file_type</span> <span class="o">==</span> <span class="s2">&quot;Epochs&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">.</span><span class="n">events</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">event_values</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.set_event_ids"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.set_event_ids">[docs]</a>    <span class="k">def</span> <span class="nf">set_event_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event_ids</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the events&#39; ids for the dataset.</span>
<span class="sd">        :param event_ids: The events&#39; ids.</span>
<span class="sd">        :type event_ids: dict</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_type</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">file_type</span> <span class="o">==</span> <span class="s2">&quot;Raw&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">read_event_ids</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">event_ids</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">file_type</span> <span class="o">==</span> <span class="s2">&quot;Epochs&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span><span class="o">.</span><span class="n">event_id</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">event_ids</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.set_channel_locations"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.set_channel_locations">[docs]</a>    <span class="k">def</span> <span class="nf">set_channel_locations</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel_locations</span><span class="p">,</span> <span class="n">channel_names</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the channels&#39; locations inside the MNE &quot;Epochs&quot; or &quot;Raw&quot; object of the dataset.</span>
<span class="sd">        From the simpler format present in the &quot;self.channels_location&quot; attribute, creates a list of the form of the one</span>
<span class="sd">        used by MNE.</span>
<span class="sd">        :param channel_locations: The channels&#39; locations.</span>
<span class="sd">        :type channel_locations: dict</span>
<span class="sd">        :param channel_names: The channels&#39; names</span>
<span class="sd">        :type channel_names: list of str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_channels_locations</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">channel_locations</span><span class="p">)</span>
        <span class="n">channels_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;chs&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">channel</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">channels_info</span><span class="p">):</span>
            <span class="n">channel_location</span> <span class="o">=</span> <span class="n">new_channels_locations</span><span class="p">[</span><span class="n">channel_names</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
            <span class="n">channel</span><span class="p">[</span><span class="s2">&quot;loc&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">channel_location</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">channel_location</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">channel_location</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span>
                                       <span class="n">np</span><span class="o">.</span><span class="n">NAN</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">NAN</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">NAN</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">NAN</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">NAN</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">NAN</span><span class="p">])</span>     <span class="c1"># MNE Format</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">channels_locations</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">new_channels_locations</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.set_channel_names"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.set_channel_names">[docs]</a>    <span class="k">def</span> <span class="nf">set_channel_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel_names</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the channels&#39; names inside the MNE &quot;Epochs&quot; or &quot;Raw&quot; object of the dataset.</span>
<span class="sd">        :param channel_names: The channels&#39; names.</span>
<span class="sd">        :type channel_names: list of str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">file_data</span><span class="o">.</span><span class="n">pick_channels</span><span class="p">(</span><span class="n">channel_names</span><span class="p">)</span></div>

<div class="viewcode-block" id="mainModel.set_reference"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.set_reference">[docs]</a>    <span class="k">def</span> <span class="nf">set_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channels_selected</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the reference of the dataset.</span>
<span class="sd">        :param channels_selected: The channels&#39; names.</span>
<span class="sd">        :type channels_selected: list of str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">channels_selected</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;average&quot;</span><span class="p">,</span> <span class="s2">&quot;infinity&quot;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">references</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">channels_selected</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">references</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">channels_selected</span></div>

<div class="viewcode-block" id="mainModel.set_current_dataset_index"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.set_current_dataset_index">[docs]</a>    <span class="k">def</span> <span class="nf">set_current_dataset_index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index_selected</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the current dataset index of the currently selected dataset.</span>
<span class="sd">        :param index_selected: The index of the currently selected dataset.</span>
<span class="sd">        :type index_selected: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_dataset_index</span> <span class="o">=</span> <span class="n">index_selected</span></div>

<div class="viewcode-block" id="mainModel.set_study_selected"><a class="viewcode-back" href="../../src.html#src.main_model.mainModel.set_study_selected">[docs]</a>    <span class="k">def</span> <span class="nf">set_study_selected</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the selection of the study to True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">study_selected</span> <span class="o">=</span> <span class="kc">True</span></div></div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">MNE Vision 0.1.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Module code</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2022, Lemahieu Antoine.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>